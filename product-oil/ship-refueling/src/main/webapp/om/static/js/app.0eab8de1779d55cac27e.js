webpackJsonp([1],{"2RCe":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAPCAYAAAGn5h7fAAAAAXNSR0IArs4c6QAAAcVJREFUKBVdUj1IHEEUft/sWpjdQ0WE1Dk9bQISSw3YaqWNXkRIEVz1SGMjllbRTkQk3AWCIJrCMpgqRYqkTIqQJsaIICTY3eFuod7O8725W+XuwezM+973fr6ZJWoa4ij/k5meUhz1HxhmnoOG4sWBF2x521eHrT3U3dnVQp71AD0YD88s05Sj2ZR/aMToRw2gz66aUL+KP9oAsUI+vjiWD29NQTUmXmLr15EsFiatTY8b8MPXBOWTTyG6uw2wC+ACHuZz7/66Fo6mI6mOLAdxaWCY6jwuuraa4DfJGPM55WnpuKwCmDGUSfQJHUeEm1mbkohhmdR7rplOblY320Xgr3u1Geh2mDcyJd63gOKE5T8fTFg5fWVA0wT6LcPv4VHnYyU6Iby+buJ/+yXJDuRhImJ+4qoAZ9KvIlKSsHyqF8Cud/L/YFYGLcq6VrIEPupyiQ6jYrJUKGqRxrCWp0A4D4w5EuKm4BO6YLDhMImRcDQBvDqYi2vpJiwvy7s/3LVGmyYgs8HbsMtb85NqfUdGeel+kozRtrtClktJNe0FRyMdMVUvJamnjdfiyqi3AXX1GVS+34K9GWmbtjDaHLmg18Kt3QEFu7FakufgpgAAAABJRU5ErkJggg=="},"3Yuq":function(t,e){},"4byP":function(t,e){},"9ARp":function(t,e){},B8I6:function(t,e){},BJFN:function(t,e){t.exports="data:image/png;base64,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"},CnN4:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,s,r=a("IvJb"),o=a("3cXf"),n=a.n(o),l=(a("CnN4"),a("vNtB"),{infoUrl:"http://refueling.test.mycrudeoil.com",refuUrl:"http://refueling.test.mycrudeoil.com",userUrl:"http://user.test.mycrudeoil.com"}),c=location.protocol,u=location.hostname,p=location.host;"localhost"!==u&&(l={refuUrl:(i=p,s=i.replace("user","refueling"),c+"//"+s),userUrl:function(t){var e=t.replace("refueling","user");return c+"//"+e}(p),infoUrl:function(t){var e=t.replace("refueling","info");return c+"//"+e}(p)});var m=l,d=m.refuUrl,f=m.infoUrl,h=m.userUrl,y={HOST:d,HOSTUSER:h,tranportways:d+"/ordercommon/tranportways.json",oilvarieties:d+"/ordercommon/oilvarieties.json",oilppms:d+"/ordercommon/oilppms.json",buyerOrderUp:d+"/orderignition/buylist.json",listbycompany:d+"/orderignition/buylistbycompany.json",ordersbycompany:d+"/orderignition/buyordersbycompany.json",selllist:d+"/orderignition/selllist.json",selllistbycompany:d+"/orderignition/selllistbycompany.json",sellordersbycompany:d+"/orderignition/sellordersbycompany.json",supplybuylist:d+"/ordersupply/buylist.json",supplyBuylistbycompany:d+"/ordersupply/buylistbycompany.json",supplyBuyorderSbycompany:d+"/ordersupply/buyordersbycompany.json",supplyselllistbycompany:d+"/ordersupply/selllistbycompany.json",supplyListbyCompany:d+"/ordersupply/sellordersbycompany.json",supplyOrderCompany:d+"/ordersupply/selllist.json",exportRIgnition:d+"/exportRIgnition.json",exportRSupply:d+"/exportRSupply.json",orderBuyerExcel:{1:d+"/xls/10f1b8a06793406382d237e4fc8e11a6.xls",9:d+"/xls/2b036b42343d4b9ba427a302105f3db4.xls"},orderSellerExcel:d+"/xls/orderSellerExcel.xls",buyerExportRIgnitionData:d+"/buyerExportRIgnitionData.json",sellerExportRIgnitionData:d+"/sellerExportRIgnitionData.json",buyerExportRSupplyData:d+"/buyerExportRSupplyData.json",sellerExportRSupplyData:d+"/sellerExportRSupplyData.json",buyImportRIgnitionData:d+"/buyImportRIgnitionData.json",buyImportRSupplyData:d+"/buyImportRSupplyData.json",sellerImportRIgnitionData:d+"/sellerImportRIgnitionData.json",sellerImportRSupplyData:d+"/sellerImportRSupplyData.json",importRIgnitionData:d+"/omImportRIgnitionData.json",importRSupplyData:d+"/omImportRSupplyData.json",Delorderignition:d+"/orderignition/delete.json",Delordersupply:d+"/ordersupply/delete.json",fileupload:d+"/file/upload.json",deletefile:d+"/order/deletefile.json",submmitfile:d+"/orderignition/uploadsubmit.json",ordersupplyuploadsubmit:d+"/ordersupply/uploadsubmit.json",showuploadedfiles:d+"/order/uploadedfiles.json",chinese:d+"/index.html",infoHome:d+"/index.html#/home",infoHall:d+"/index.html#/hall",information:f+"/page/#/",indexSippingoil:d+"/index.html#/",selctLogin:d+"/selctLogin.json",encyclopedias:f+"/page/#/encyclopedia",english:"http://transaction.test.mycrudeoil.com/",myCenter:h+"/secure/center/my.htm",login:h+"/secure/login.htm",logout:h+"/secure/logout.htm",userMessage:h+"/secure/center/safety.htm",userSecurity:h+"/secure/center/setting.htm",resetPassword:h+"/secure/center/reset/password.htm",subaccountUrl:h+"/secure/center/role/role_permission.htm",enterpriseUrl:h+"/secure/center/activite_account.htm"},v={name:"tabBar",data:function(){return{datas:[{label:"首页",href:y.infoHome},{label:"油品大厅",href:y.infoHall}],checkindex:0,information:y.information,encyclopedias:y.encyclopedias}},components:{},watch:{},created:function(){window.home=this,"/home"==this.$route.path||"/"==this.$route.path?this.checkindex=0:this.checkindex=1},methods:{toggle:function(t){this.checkindex=t,0==t?this.$router.push({path:"/home"}):1==t&&this.$router.push({path:"/hall"})}},mounted:function(){}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabbar"},[a("div",{staticClass:"clearfix w-1180"},[t._m(0),t._v(" "),a("div",{staticClass:"float-r"},[a("ul",{staticClass:"float-l"},[t._l(t.datas,function(e,i){return a("li",{key:i,staticClass:"pointer",class:{active:i==t.checkindex}},[a("a",{staticStyle:{display:"block"},attrs:{href:e.href}},[t._v(t._s(e.label))])])}),t._v(" "),a("li",[a("a",{attrs:{href:t.information,target:"_blank"}},[t._v("信息资讯")])]),t._v(" "),a("li",[a("a",{attrs:{href:t.encyclopedias,target:"_blank"}},[t._v("油品百科")])])],2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"float-l"},[e("img",{staticClass:"float-l",attrs:{src:a("BJFN")}}),this._v(" "),e("span",{staticClass:"float-l tit"},[this._v("中国首个成品油国际贸易平台")])])}]};var b=a("vSla")(v,g,!1,function(t){a("eTWn")},"data-v-02fb8c2f",null).exports,T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bar-left"},t._l(t.menuList,function(e,i){return a("ul",{key:i,staticClass:"oil-menu"},[a("li",{staticClass:"oil-menu-title"},[t._v(t._s(e.title))]),t._v(" "),t._l(e.children,function(e,i){return a("li",{key:i,staticClass:"oil-menu-item",class:t.computeActive(e)},[a("router-link",{staticClass:"oil-link",attrs:{to:{name:e.name}}},[t._v(t._s(e.title))])],1)})],2)}))},staticRenderFns:[]},_=a("vSla")({name:"leftBar",data:function(){return{activeItem:"by-manage",routeHeads:["by","sl","or-buy","or-sell"],routeNames:["by-manage","sl-manage","or-buyup","or-sellup"],menuList:[{title:"买家中心",index:"1",children:[{title:"我的采购",name:"by-manage",index:"1-1"},{title:"我的订单",name:"or-buyup",index:"1-2"}]},{title:"卖家中心",index:"2",children:[{title:"我的商品",name:"sl-manage",index:"2-1"},{title:"我的订单",name:"or-sellup",index:"2-2"}]}]}},watch:{$route:function(t){this.activeItem=this.getRouteName(t.name)}},mounted:function(){this.activeItem=this.getInitActive()},methods:{getInitActive:function(){var t=this.$route.name;return this.getRouteName(t)},jump2detail:function(t){this.$router.push(t)},computeActive:function(t){return t.name===this.activeItem?"on":""},getRouteName:function(t){for(var e=this.routeHeads,a=0;a<e.length;a++){var i=e[a];if(t.indexOf(i)>-1)return this.routeNames[a]}return this.$route.query.enter}}},T,!1,null,null,null).exports,S={name:"headBar",data:function(){return{return:this.$route.fullPath,loginBtn:!1,username:"",out:!0,subaccount:!1,enterprise:!1,subaccountUrl:y.subaccountUrl,enterpriseUrl:y.enterpriseUrl,indexSippingoil:y.indexSippingoil,logout:y.logout,login:y.login,userMessage:y.userMessage,userSecurity:y.userSecurity,resetPassword:y.resetPassword,sellGoods:y.sellGoods,sellOrder:y.sellOrder,buyPurchase:y.buyPurchase,buyOrder:y.buyOrder,companyName:"",language1:y.chinese,language2:y.english}},components:{},watch:{return:function(t){alert(t)}},created:function(){var t=this;this.$http(y.selctLogin,{},"get").then(function(e){var a=e.data.datas,i=e.data.message;if("请登录"==i)t.loginBtn=!0,t.out=!1,t.companyName="";else if("成功"==i){if(t.companyName=a.name,t.loginBtn=!1,t.out=!0,a.roles.includes("enterprise")||(t.enterprise=!0),a.roles.includes("sales_trader")&&a.roles.includes("buy_trader"))document.cookie="epMemberId="+a.epMemberId;else if(a.roles.includes("buy_trader"))document.cookie="epMemberId="+a.epMemberId;else{if(!a.roles.includes("sales_trader"))return;document.cookie="epMemberId="+a.epMemberId}(a.roles.includes("enter_admin")||a.roles.includes("enter_master"))&&(t.subaccount=!0),a.roles.includes("enterprise")||(t.enterprise=!0)}})},methods:{OILEnglish:function(){document.cookie="_l_=en_US;domain=.test.mycrudeoil.com;path=/",window.location.href=this.language2},OILChinese:function(){document.cookie="_l_=zh_CN;domain=.test.mycrudeoil.com;path=/",window.location.href=this.language1},check:function(t){var e=this;this.$http(y.selctLogin,{},"get").then(function(a){0!=a.data.status?e.$message("请登录"):0!=a.data.status||a.data.datas.epMemberId?e.$router.push({name:t}):e.$message("请先绑定企业")})},check1:function(t){var e=this;this.$http(y.selctLogin,{},"get").then(function(a){0!=a.data.status?e.$message("请登录"):window.location.href=t})}},mounted:function(){}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("div",{staticClass:"header clearfix "},[a("div",{staticClass:"float-l h-left clearfix"},[a("span",{staticClass:"float-l"},[t._v(t._s(t.companyName)+"\n        "),a("a",{directives:[{name:"show",rawName:"v-show",value:t.loginBtn,expression:"loginBtn"}],staticClass:"loginbtn",attrs:{href:t.login}},[t._v("   请登录")])]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.out,expression:"out"}],staticClass:"out"},[a("a",{attrs:{href:t.logout}},[t._v("\n          退出\n        ")])])]),t._v(" "),a("div",{staticClass:"float-r h-right clearfix"},[a("span",{staticClass:"float-r"},[a("em",{staticClass:"pointer",on:{click:t.OILEnglish}},[t._v("International")]),t._v("   |  \n        "),a("em",{staticClass:"orgin pointer",on:{click:t.OILChinese}},[t._v("中文站")])]),t._v(" "),a("span",{staticClass:"float-r"},[a("div",{staticClass:"personlist"},[a("transition",{attrs:{name:"fade"}},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                个人中心\n                "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("a",{attrs:{href:"#"},on:{click:function(e){t.check1(t.userMessage)}}},[t._v("账户信息")])]),t._v(" "),a("el-dropdown-item",[a("a",{attrs:{href:"#"},on:{click:function(e){t.check1(t.userSecurity)}}},[t._v("账号安全")])]),t._v(" "),a("el-dropdown-item",[a("a",{attrs:{href:"#"},on:{click:function(e){t.check1(t.resetPassword)}}},[t._v("修改密码")])]),t._v(" "),a("el-dropdown-item",[a("a",{directives:[{name:"show",rawName:"v-show",value:t.subaccount,expression:"subaccount"}],attrs:{href:"#"},on:{click:function(e){t.check1(t.subaccountUrl)}}},[t._v("子账户管理")])]),t._v(" "),a("el-dropdown-item",[a("a",{directives:[{name:"show",rawName:"v-show",value:t.enterprise,expression:"enterprise"}],attrs:{href:"#"},on:{click:function(e){t.check1(t.enterpriseUrl)}}},[t._v("绑定企业")])])],1)],1)],1)],1)]),t._v(" "),a("span",{staticClass:"float-r pointer"},[a("div",{staticClass:"personlist"},[a("transition",{attrs:{name:"fade"}},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                卖家中心\n                "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("a",{on:{click:function(e){t.check("sl-manage")}}},[t._v("我的商品")])]),t._v(" "),a("el-dropdown-item",[a("a",{on:{click:function(e){t.check("or-sellup")}}},[t._v("我的订单")])])],1)],1)],1)],1)]),t._v(" "),a("span",{staticClass:"float-r"},[a("div",{staticClass:"personlist"},[a("transition",{attrs:{name:"fade"}},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                买家中心\n                "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("a",{on:{click:function(e){t.check("by-manage")}}},[t._v("我的采购")])]),t._v(" "),a("el-dropdown-item",[a("a",{on:{click:function(e){t.check("or-buyup")}}},[t._v("我的订单")])])],1)],1)],1)],1)])])])])},staticRenderFns:[]};var C=a("vSla")(S,D,!1,function(t){a("tdXK")},null,null).exports,A=m.refuUrl,w={HOST:A,TRANSPORT:A+"/ordercommon/tranportways.json",OIL_TYPE:A+"/ordercommon/oilvarieties.json",OIL_SPEC:A+"/ordercommon/oilppms.json",RAW_TYPE:A+"/ordercommon/crude/oilvarieties.json",COMPANY_LIST:A+"/ep/list.json",COMPANY_USER:A+"/ep/getCurrentEnterprise.json",UPLOAD:A+"/file/upload.json",STATUS:A+"/selectSellHaseInfoStatusList.json",INQUIRY:A+"/inquiryquotation/list.json",OFFER:A+"/inquiryquotation/list.json",OFFER_UPDATE:A+"/inquiryquotation/status.json",BY_INPUT:A+"/haseinfo/insert.json",BY_UPDATE:A+"/haseinfo/modify.json",BY_DELETE:A+"/haseinfo/delete.json",BY_RECOVATION:A+"/haseinfo/downGoodsShelves.json",BY_MANAGE:A+"/haseinfo/list.json",BY_PAGE:A+"/selectHaseInfo.json",SL_INPUT:A+"/info/updateOrSaveInfo.json",SL_MANAGE:{0:A+"/info/selectSellInfoList.json",1:A+"/info/selectALLOrder.json"},SL_PAGE:A+"/info/detailsInfo.json",SL_DELETE:A+"/info/delete.json",SL_SOLDOUT:A+"/info/downGoodsShelves.json"},x={components:{BarLeft:_,CommonHeader:C,TabBar:b},data:function(){return{isSystem:!1,infoType:0,sysTag:0}},methods:{getSelectOptions:function(){var t=this.$store.state.oilTypes;this.setTypeStorage(t),this.setTranStorage(t)},reqOilTypeList:function(t){for(var e=this,a={},i=function(i){var s=t[i];e.$http(w.OIL_TYPE,{oilType:s.code},"get").then(function(t){var i=t.data.datas;a[s.code]=i,localStorage.setItem("$OIL_ORDER_OILTYPE",n()(a)),e.$store.commit("setOilTypeList",a)})},s=0;s<t.length;s++)i(s)},reqTransportWay:function(t){for(var e=this,a={},i=function(i){var s=t[i];e.$http(w.TRANSPORT,{oilType:s.code},"get").then(function(t){var i=t.data.datas;a[s.code]=i,localStorage.setItem("$OIL_ORDER_TRANSPORT",n()(a)),e.$store.commit("setTransportWay",a)})},s=0;s<t.length;s++)i(s)},reqCurrentEnterprise:function(){var t=this;this.$http(w.COMPANY_USER,{}).then(function(e){var a=e.data.datas;a&&t.$store.commit("setEpMember",a)})},setTypeStorage:function(t){var e=localStorage.getItem("$OIL_ORDER_OILTYPE");if(e){var a=JSON.parse(e);this.$store.commit("setOilTypeList",a)}else this.reqOilTypeList(t)},setTranStorage:function(t){var e=localStorage.getItem("$OIL_ORDER_TRANSPORT");if(e){var a=JSON.parse(e);this.$store.commit("setTransportWay",a)}else this.reqTransportWay(t)}},created:function(){var t=this.$route.query.sysTag,e=this.$route.query.oilType,a="1"===t;this.isSystem=a,this.sysTag=t,this.$store.commit("setSysTag",t),this.$store.commit("setIsSystem",a),e&&this.$store.commit("setOilType",e),this.getSelectOptions()}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oil",attrs:{id:"app"}},[t.isSystem?t._e():a("div",{staticClass:"oil-header"},[t.isSystem?t._e():a("common-header"),t._v(" "),a("tab-bar")],1),t._v(" "),a("div",{class:t.isSystem?"oil-server":"oil-client"},[a("div",{staticClass:"oil-order"},[t.isSystem?t._e():a("bar-left"),t._v(" "),a("router-view")],1)])])},staticRenderFns:[]},L=a("vSla")(x,O,!1,null,null,null).exports,I=a("zO6J"),E={data:function(){return{}},props:{formData:{type:Object,default:{infoTitle:"",deliveryWay:"",transportWay:"",uunitPrice:"",numberUnit:"",unitPrice:"",unit:""}},type:{type:Number,default:1}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{staticClass:"msg-form",attrs:{"label-width":"90px"}},[a("div",{staticClass:"oil-title-2"},[t._v(t._s(t.formData.infoTitle))]),t._v(" "),a("el-form-item",{attrs:{label:"提货方式："}},[a("div",[t._v(t._s(t.formData.transportWay))])]),t._v(" "),a("el-form-item",{attrs:{label:"运输方式："}},[a("div",[t._v(t._s(t.formData.deliveryWay))])]),t._v(" "),2===t.type?a("el-form-item",{attrs:{label:"数量："}},[a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.formData.numberUnit))])],1):a("el-form-item",{attrs:{label:"单价："}},[a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.formData.uunitPrice))])],1)],1)},staticRenderFns:[]},N=a("vSla")(E,k,!1,null,null,null).exports;function U(t){return t<10?"0"+t:t}function P(t){var e="";if(t){var a=new Date(t),i=a.getFullYear(),s=a.getMonth()+1,r=a.getDate();e=i+"-"+(s=U(s))+"-"+(r=U(r))}return e}function W(t,e){var a=Number(t);if(e)for(var i=0;i<e.length;i++){var s=e[i];if(Number(s.code)===a)return s.zhName}return a}function $(t,e){var a=t;if(e)for(var i=0;i<e.length;i++){var s=e[i];if(s.zhName===t)return s.code}return a}function R(t){return t%1>0&&(t=t.toFixed(2)),t}var F={components:{FormMsg:N},data:function(){return{statusList:["未联系","已联系","已成交","有效","无效"],btnList:["已联系","已成交"],reqOfferFinished:!1,reqPageFinished:!1,datePicker:[],tableData:[],totalPage:0,oilType:"",unit:"吨",status:1,type:1,form:{infoTitle:"",deliveryWay:"",transportWay:"",unitNumber:"",unitPrice:0}}},watch:{reqPageFinished:function(t){this.reqOfferFinished&&(this.tableData=this.formateTabData(this.tableData))}},mounted:function(){var t=this.$route.query;this.getPageData({uuid:t.uuid}),this.getOfferData({needUuid:t.uuid,type:this.type});var e=t.oilType,a=this.$store.state.oilTypes;this.oilType=W(e,a)},methods:{getPageData:function(t){var e=this;this.$http(w.SL_PAGE,t).then(function(t){var a=t.data.datas,i=a.infoVO;i&&(i.uunitPrice=i.unitPrice+" 元/"+i.unit,e.reqPageFinished=!0,e.status=a.status,e.unit=i.unit,e.form=i)})},getOfferData:function(t){var e=this;this.$http(w.INQUIRY,t).then(function(t){var a=t.data,i=a.datas;e.totalPage=a.total,e.reqOfferFinished=!0,i&&(e.tableData=e.formateTabData(i))})},formateTabData:function(t){var e=this;return t.forEach(function(t){t.createDate=P(t.createDate),t.number=e.formateNumber(t.number),t.price=e.formatePrice(t.price),t.isSoldOut=e.isSoldOut(t)}),t},formateNumber:function(t){var e=t+"";if(e.indexOf(this.unit)<0){var a=e.split("");a[a.length-1]=this.unit,e=a.join("")}return e},formatePrice:function(t){var e=t+"",a="元/"+this.unit;return e.indexOf("元/")>-1&&(e=e.split("元/")[0]),e+=a},isSoldOut:function(t){return"已下架"===this.status||"3"===this.status||"已成交"===t.status||"3"===t.status},onFormSubmit:function(t){this.formateFormData(t),this.getOfferData()},formateFormData:function(t){t&&(t.issueTimeStart=P(t.issueTimeStart),t.issueTimeEnd=P(t.issueTimeEnd))},jump2page:function(t){this.$router.push({name:"sl-page",params:{uuid:t.needUuid}})},changeStatus:function(t,e){if(t.status!==e){var a=this.btnList.indexOf(e),i={uuid:t.uuid,status:a+2};this.updateOffer(i),t.status=e,"已成交"!==e&&3!==e||(t.isSoldOut=!0)}},updateOffer:function(t){var e=this;this.$http(w.OFFER_UPDATE,t).then(function(t){0===t.data.status?e.$message({message:"状态修改成功!",type:"success"}):e.$message.error("状态修改失败!")})},newPageData:function(t){this.form.pageNum=t,this.getOfferData()}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"询价单",expression:"'询价单'"}],staticClass:"bar-right"},[a("div",{staticClass:"oil-title-2"},[t._v(t._s(t.oilType)+"询价单")]),t._v(" "),a("div",{staticClass:"bar-search"},[a("form-msg",{attrs:{"form-data":t.form,type:t.type}})],1),t._v(" "),a("el-table",{staticClass:"index-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"createDate",label:"询价日期",width:"100",fixed:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"companyName",label:"公司名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"number",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"议价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contacts",label:"联系人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作",fixed:"right",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.btnList,function(i,s){return a("el-button",{key:s,attrs:{disabled:e.row.isSoldOut,type:e.row.status===i?"":"primary",size:"mini"},on:{click:function(a){t.changeStatus(e.row,i)}}},[t._v(t._s(i))])})}}])})],1),t._v(" "),a("div",{staticClass:"page-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","pager-count":5,total:t.totalPage},on:{"current-change":t.newPageData}})],1)],1)},staticRenderFns:[]},V=a("vSla")(F,M,!1,null,null,null).exports,j=a("aA9S"),B=a.n(j),q={data:function(){return{datePicker:[],noDeliver:!0}},props:{oilTypeList:Array,oilSpecList:Array,deliveryList:Array,transportWay:Array,isSystem:{type:Boolean,default:!1},onPageJump:{type:Function,default:function(){}},onSubmit:{type:Function,default:function(){}},onSelectChange:{type:Function,default:function(){}},formData:{type:Object,default:{issueTimeEnd:"",issueTimeStart:"",oilClassification:"",oilVarieties:"",transportWay:"",deliveryWay:"",pageNum:1,status:""}},statusList:{type:Array,default:function(){return["已发布","已确认","已下架"]}}},computed:{isDeliver:function(){return this.formData.deliveryWay="",2===this.formData.transportWay}},watch:{oilSpecList:function(t){this.noDeliver=!t||t.length<1}},methods:{onFormSubmit:function(){var t=this.formateFormData(this.formData);this.onSubmit(t)},onOptionChange:function(){this.formData.oilVarieties="",this.onSelectChange(this.formData.oilClassification)},formateFormData:function(t){(t.issueTimeStart="",t.issueTimeEnd="",this.datePicker)&&(this.datePicker.length>0&&(t.issueTimeStart=this.datePicker[0],t.issueTimeEnd=this.datePicker[1]));return t}}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{attrs:{inline:!0,model:t.formData,"label-width":"84px"}},[a("el-form-item",{class:t.isSystem?"":"mg-r-0",attrs:{label:"发布日期:"}},[a("el-date-picker",{class:t.isSystem?"":"w-267",attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.datePicker,callback:function(e){t.datePicker=e},expression:"datePicker"}})],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-1",attrs:{label:"状态:"}},[a("el-select",{class:t.isSystem?"":"w-267",attrs:{clearable:"",placeholder:"请选择"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},t._l(t.statusList,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e+1}})}))],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-0",attrs:{label:"油品类别:"}},[a("el-select",{class:t.isSystem?"":"w-267",attrs:{clearable:"",placeholder:"请选择"},on:{change:t.onOptionChange},model:{value:t.formData.oilClassification,callback:function(e){t.$set(t.formData,"oilClassification",e)},expression:"formData.oilClassification"}},t._l(t.oilTypeList,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.code}})}))],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-1",attrs:{label:"规格:"}},[a("el-select",{class:t.isSystem?"":"w-267",attrs:{clearable:"",disabled:t.noDeliver,placeholder:"请选择"},model:{value:t.formData.oilVarieties,callback:function(e){t.$set(t.formData,"oilVarieties",e)},expression:"formData.oilVarieties"}},t._l(t.oilSpecList,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.code}})}))],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-0",attrs:{label:"提货方式:"}},[a("el-select",{class:t.isSystem?"":"w-267",attrs:{clearable:"",placeholder:"请选择"},model:{value:t.formData.transportWay,callback:function(e){t.$set(t.formData,"transportWay",e)},expression:"formData.transportWay"}},t._l(t.transportWay,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e+1}})}))],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-1",attrs:{label:"运输方式:"}},[a("el-select",{class:t.isSystem?"":"w-267",attrs:{clearable:"",placeholder:"请选择",disabled:t.isDeliver},model:{value:t.formData.deliveryWay,callback:function(e){t.$set(t.formData,"deliveryWay",e)},expression:"formData.deliveryWay"}},t._l(t.deliveryList,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.code}})}))],1),t._v(" "),a("el-form-item",{staticClass:"mg-b-20"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onFormSubmit}},[t._v("搜索")])],1)],1)},staticRenderFns:[]},z=a("vSla")(q,Y,!1,null,null,null).exports,G={components:{ManageSearch:z},data:function(){return{sysTag:0,currentPage:1,isSystem:!1,transportWay:this.$store.state.deliveryWay,oilTypes:this.$store.state.oilTypes,oilSpecList:[],tableData:[],totalPage:0,form:{issueTimeEnd:"",issueTimeStart:"",oilClassification:"",oilVarieties:"",transportWay:"",deliveryWay:"",infoType:1,status:"",sysTag:0}}},computed:{oilTypeList:function(){return this.$store.state.oilTypeList[this.oilType]},deliveryType:function(){return this.$store.state.transportWay[this.oilType]},oilType:{get:function(){return this.$store.state.oilType},set:function(t){this.$store.commit("setOilType",t),this.onRadioChange(t)}},epMember:function(){return this.$store.state.epMember}},watch:{oilType:function(t){},oilTypeList:function(t){},deliveryType:function(t){},epMember:function(t){}},mounted:function(){var t=this.$store.state.isSystem,e=this.$store.state.sysTag;this.form.sysTag=e,this.isSystem=t,this.sysTag=e,this.onRadioChange(this.oilType)},methods:{clearSearchData:function(){B()(this.form,{issueTimeEnd:"",issueTimeStart:"",oilClassification:"",oilVarieties:"",transportWay:"",deliveryWay:"",pageNum:1,status:""})},setInfoType:function(t){var e=[];this.$store.state.infoTypes[t].sell.forEach(function(t){e.push(t.code)});var a=e.join(",");this.form.infoType=a},getOfferData:function(){var t=this,e=this.initClientForm(),a=Number(this.isSystem);this.$http(w.SL_MANAGE[a],e).then(function(e){var a=e.data,i=a.datas;t.totalPage=a.total,t.currentPage=a.pageNum,i&&(t.tableData=t.formateTabData(i))})},initClientForm:function(){var t={};return this.isSystem?t=this.form:(B()(t,this.form),t.personal="1"),t},onSelectChange:function(t){var e=this;this.$http(w.OIL_SPEC,{oilvarietie:t},"get").then(function(t){e.oilSpecList=t.data.datas})},onRadioChange:function(t){this.clearSearchData(),this.setInfoType(t),this.getOfferData()},onFormSubmit:function(t){this.form=this.formateFormData(t),this.getOfferData()},formateFormData:function(t){return t&&(t.releaseBeginDate=P(t.issueTimeStart),t.releaseEndDate=P(t.issueTimeEnd),t.pageNum=1),t},formateTabData:function(t){return t.forEach(function(t){t.RELEASED_DATE=P(t.RELEASED_DATE),t.area=t.LOCATION_PROVINCE+"/"+t.LOCATION_CITY,t.unitPrice=t.UNIT_PRICE+"元/"+t.UNIT,t.unSoldOut="已发布"===t.STATUS}),t},jump2page:function(t){this.$router.push({name:"sl-page",query:{uuid:t.UUID,sysTag:this.sysTag}})},jump2input:function(t){var e={sysTag:this.sysTag,oilType:this.oilType};t.UUID&&(e.uuid=t.UUID),this.$router.push({name:"sl-input",query:e})},jump2offer:function(t){this.$router.push({name:"sl-inquiry",query:{uuid:t.UUID,sysTag:this.sysTag,oilType:this.oilType}})},delOffer:function(t,e){var a=this;this.$confirm("此操作将下架该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.reqDelOffer(t,e)}).catch(function(){a.$message({type:"info",message:"已取消下架"})})},reqDelOffer:function(t,e){var a=this,i=t[e],s={uuid:i.UUID};this.$http(w.SL_SOLDOUT,s).then(function(t){0===t.data.status?(a.$message({message:"下架成功!",type:"success"}),a.changeStatus(i)):a.$message.error("下架失败!")})},changeStatus:function(t){t.STATUS="已下架",t.unSoldOut=!1},newPageData:function(t){this.form.pageNum=t,this.getOfferData()}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"销售信息管理",expression:"'销售信息管理'"}],staticClass:"bar-right"},[a("div",{staticClass:"clearfix oil-type-list"},[a("el-radio-group",{model:{value:t.oilType,callback:function(e){t.oilType=e},expression:"oilType"}},t._l(t.oilTypes,function(e,i){return a("el-radio-button",{key:i,attrs:{label:e.code}},[t._v(t._s(e.zhName))])})),t._v(" "),a("el-button",{staticClass:"float-r",attrs:{type:"primary"},on:{click:t.jump2input}},[t._v("发布商品")])],1),t._v(" "),a("div",{staticClass:"bar-search"},[a("manage-search",{attrs:{"form-data":t.form,"is-system":t.isSystem,"oil-type-list":t.oilTypeList,"oil-spec-list":t.oilSpecList,"delivery-list":t.deliveryType,"transport-way":t.transportWay,onSubmit:t.onFormSubmit,onSelectChange:t.onSelectChange}})],1),t._v(" "),a("el-table",{staticClass:"index-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"RELEASED_DATE",label:"发布日期",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"OIL_CLASSIFICATION",label:"油品类别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"OIL_VARIETIES",label:"规格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"TRANSPORT_WAY",label:"提货方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"DELIVERY_WAY",label:"运输方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unitPrice",label:"单价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"area",label:"所在地区"}}),t._v(" "),a("el-table-column",{attrs:{prop:"STATUS",label:"状态"}}),t._v(" "),t.isSystem?a("el-table-column",{attrs:{label:"操作",width:"300px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.jump2offer(e.row)}}},[t._v("询价单")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.jump2page(e.row)}}},[t._v("详情")]),t._v(" "),e.row.unSoldOut?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.jump2input(e.row)}}},[t._v("修改")]):t._e(),t._v(" "),e.row.unSoldOut?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.delOffer(t.tableData,e.$index)}}},[t._v("下架")]):t._e()]}}])}):a("el-table-column",{attrs:{label:"操作",width:"200px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.jump2page(e.row)}}},[t._v("详情")]),t._v(" "),e.row.unSoldOut?a("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"mini"},on:{click:function(a){t.jump2input(e.row)}}},[t._v("修改")]):t._e(),t._v(" "),e.row.unSoldOut?a("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"mini"},on:{click:function(a){t.delOffer(t.tableData,e.$index)}}},[t._v("下架")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"page-box"},[a("el-pagination",{attrs:{background:"",layout:"prev,pager,next","pager-count":5,total:t.totalPage,"current-page":t.currentPage},on:{"current-change":t.newPageData}})],1)],1)},staticRenderFns:[]},Q=a("vSla")(G,J,!1,null,null,null).exports,H=a("Q6RI"),K={data:function(){return{picList:[],oilTypes:[],oilSpecList:[],companyList:[],imgDeleteList:[],company:"",tagOilType:"",tagOilSpec:"",tagAreaShow:"",dialogImageUrl:"",validateMessage:"",isInput:!0,isSystem:!1,isDeliver:!1,specDisable:!1,dialogVisible:!1,validateResult:!0,uploadDisable:!1,btnFormSubmit:!1,uploadAPI:w.UPLOAD,unitList:["吨","桶"],infoTypeList:"船燃销售",area:H.provinceAndCityData,transportType:this.$store.state.deliveryWay,form:{area:[],unit:"吨",infoType:1,infoTitle:"",unitPrice:"",deliveryWay:"",transportWay:"",releasedDate:"",oilVarieties:"",chmentsVOList:[],oilClassification:"",detailedDescription:""},rules:{releasedDate:[{message:"请选择发布日期",required:!0}],area:[{message:"请选择区域",required:!0}],unitPrice:[{message:"请输入单价",required:!0},{type:"number",message:"必须为数字值"},{pattern:/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/,message:"最多两位小数"}],transportWay:[{message:"请选择提货方式",required:!0}],deliveryWay:[{message:"请选择运输方式",required:!0}],oilClassification:[{message:"请选择油品类型",required:!0}],oilVarieties:[{message:"请选择规格",required:!0}],epMemberName:[{message:"请输入公司名称",required:!0}]}}},computed:{setAreaShow:function(){for(var t=[],e=this.form.area,a=0;a<e.length;a++)t.push(H.CodeToText[e[a]]);return this.tagAreaShow=t,this.tagAreaShow.join("/")},oilTypeList:function(){return this.$store.state.oilTypeList[this.oilType]},deliveryType:function(){return this.$store.state.transportWay[this.oilType]},oilType:function(){return this.$store.state.oilType}},watch:{oilTypeList:function(t){},deliveryType:function(t){},oilType:function(t){}},mounted:function(){var t=this.$store.state.infoTypes,e=this.$store.state.isSystem,a=this.$route.query,i=t[this.oilType].sell;this.oilTypes=i,this.isSystem=e,a.uuid?(this.getPageData({uuid:a.uuid}),this.isInput=!1):(this.form.infoType=i[0].zhName,e||this.initClientData())},methods:{initClientData:function(){var t=this;this.$http(w.COMPANY_USER,{}).then(function(e){var a=e.data.datas;a&&(t.company=a.name,t.form.epMemberName=a.name,t.form.epMemberId=a.memberId)})},getUploadBox:function(){return this.$refs.uploadBox.$children[1].$el},getCompanyData:function(){var t=this;if(this.companyList.length>0)return this.companyList;this.$http(w.COMPANY_LIST).then(function(e){var a=e.data.datas;a&&(a.forEach(function(t){t.value=t.name}),t.companyList=a)})},getSpecData:function(t){var e=this,a={oilvarietie:t||""};this.$http(w.OIL_SPEC,a,"get").then(function(t){var a=t.data.datas;a&&a.length>0?(e.specDisable=!1,e.oilSpecList=a):(e.specDisable=!0,e.form.oilVarieties="")})},getAreaCode:function(t,e){var a=H.TextToCode[t],i=a[e];return[a.code,i.code]},getPageData:function(t){var e=this;this.$http(w.SL_PAGE,t).then(function(t){var a=t.data.datas;a.infoVO&&(e.form=e.formateGetData(a.infoVO))})},validateForm:function(){var t=this;this.validateResult?this.$refs.msgForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.formSubmit()}):this.$message.error(this.validateMessage)},formateChments:function(t){return t?(t.forEach(function(t){t.url=t.path}),t):[]},formateGetData:function(t){if(this.company=t.epMemberName,this.infoTypeList=t.infoType,this.tagOilSpec=t.oilVarieties,this.tagOilType=t.oilClassification,this.isDeliver="自提"===t.transportWay,this.picList=this.formateChments(t.chmentsVOList),this.handleHideUpload(),t.oilClassification){var e=$(t.oilClassification,this.oilTypeList);this.getSpecData(e)}return t.area=this.getAreaCode(t.locationProvince,t.locationCity),t.releasedDate=P(t.releasedDate),t},formatePostData:function(t){var e=this.tagAreaShow.join("/"),a=[this.company,this.tagOilType,this.tagOilSpec,e],i=this.picList.concat(this.imgDeleteList),s=this.tagAreaShow[0],r=this.tagAreaShow[1],o=this.formValue2code(t),n=a.join(" ");return{uuid:t.uuid,unit:t.unit,infoId:t.infoId,infoTitle:n,infoType:o.infoType,unitPrice:t.unitPrice,locationCity:r,epMemberId:t.epMemberId,epMemberName:t.epMemberName,chmentsVOList:i,deliveryWay:o.deliveryWay,detailedDescription:t.detailedDescription,releasedDate:t.releasedDate,transportWay:o.transportWay,locationProvince:s,oilVarieties:o.oilVarieties,oilClassification:o.oilClassification}},formValue2code:function(t){var e=this.$store.state.infoTypes[this.oilType].sell,a=t.transportWay,i=$(t.infoType,e),s=$(t.deliveryWay,this.deliveryType),r=$(t.oilVarieties,this.oilSpecList),o=$(t.oilClassification,this.oilTypeList);return{infoType:i,deliveryWay:s,oilVarieties:r,transportWay:this.transportType.indexOf(a)+1,oilClassification:o}},formSubmit:function(){var t=this,e=this.formatePostData(this.form);this.$http(w.SL_INPUT,e).then(function(e){if(0===e.data.status){t.$message({message:"提交成功,2秒后跳转到列表页!",type:"success",duration:3e3}),t.btnFormSubmit=!0;var a=t.jump2list;setTimeout(a,2e3)}})},handleUpload:function(t){var e=t.datas;e?(this.picList.push({id:"",url:e,path:e}),this.$message({message:"图片上传成功!",type:"success"}),this.handleHideUpload()):this.$message.error("图片上传失败")},handleHideUpload:function(){var t=this.getUploadBox();this.picList.length>3?t.style="display: none":t.style=""},handleRemove:function(t,e){t.url="",t.path="",this.picList=e,this.handleHideUpload(),this.imgDeleteList.push(t)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleTypeChange:function(t){this.tagOilSpec=" ",this.tagOilType=t,this.form.oilVarieties="";var e=$(t,this.oilTypeList);this.getSpecData(e)},handleSpecChange:function(t){this.tagOilSpec=t},handleTranChange:function(t){var e="自提"===t;this.isDeliver=e,this.form.deliveryWay=""},beforeImageUpload:function(t){var e=t.type.indexOf("image")>-1,a=t.size/1024/1024<5;return e||this.$message({message:"只能上传图片类型!",type:"error"}),a||this.$message({message:"文件尺寸最大5M!",type:"error"}),e&&a},handleCompanySelect:function(t){this.company=t.name,this.form.epMemberId=t.memberId,this.form.epMemberName=t.name,this.validateResult=!0},querySearchAsync:function(t,e){var a=this.companyList,i=t?a.filter(this.createStateFilter(t)):a;i.length<1&&(this.validateResult=!1,this.validateMessage="请选择已注册的公司!",this.$message.error(this.validateMessage)),e(i)},createStateFilter:function(t){return function(e){var a=!1,i=e.name;return i&&(a=0===i.toLowerCase().indexOf(t.toLowerCase())),a}},jump2list:function(){var t={};this.isSystem&&(t.sysTag=1),this.$router.push({name:"sl-manage",query:t})}}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"销售信息管理",expression:"'销售信息管理'"}],staticClass:"bar-right"},[a("el-form",{ref:"msgForm",attrs:{model:t.form,rules:t.rules,"label-width":"86px"}},[a("el-form-item",{attrs:{label:"信息类型:"}},[t.isInput?a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.infoType,callback:function(e){t.$set(t.form,"infoType",e)},expression:"form.infoType"}},t._l(t.oilTypes,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.zhName}})})):a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.infoTypeList))])],1),t._v(" "),a("el-form-item",{attrs:{label:"发布日期:",prop:"releasedDate"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.form.releasedDate,callback:function(e){t.$set(t.form,"releasedDate",e)},expression:"form.releasedDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"公司名称:",prop:"epMemberName"}},[t.isSystem?a("el-autocomplete",{staticClass:"w-194",attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请输入公司名称"},on:{focus:t.getCompanyData,select:t.handleCompanySelect},model:{value:t.form.epMemberName,callback:function(e){t.$set(t.form,"epMemberName",e)},expression:"form.epMemberName"}}):a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.form.epMemberName))])],1),t._v(" "),a("el-form-item",{attrs:{label:"油品类型:",prop:"oilClassification"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleTypeChange},model:{value:t.form.oilClassification,callback:function(e){t.$set(t.form,"oilClassification",e)},expression:"form.oilClassification"}},t._l(t.oilTypeList,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.zhName}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"规格:"}},[a("el-select",{attrs:{disabled:t.specDisable,placeholder:"请选择"},on:{change:t.handleSpecChange},model:{value:t.form.oilVarieties,callback:function(e){t.$set(t.form,"oilVarieties",e)},expression:"form.oilVarieties"}},t._l(t.oilSpecList,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.zhName}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"提货方式:",prop:"transportWay"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleTranChange},model:{value:t.form.transportWay,callback:function(e){t.$set(t.form,"transportWay",e)},expression:"form.transportWay"}},t._l(t.transportType,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"运输方式:"}},[a("el-select",{attrs:{disabled:t.isDeliver,placeholder:"请选择"},model:{value:t.form.deliveryWay,callback:function(e){t.$set(t.form,"deliveryWay",e)},expression:"form.deliveryWay"}},t._l(t.deliveryType,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.zhName}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"单价:",prop:"unitPrice"}},[a("el-input",{staticClass:"w-194",model:{value:t.form.unitPrice,callback:function(e){t.$set(t.form,"unitPrice",t._n(e))},expression:"form.unitPrice"}}),t._v(" "),a("span",[t._v("元/")]),t._v(" "),a("el-select",{staticStyle:{width:"70px"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}},t._l(t.unitList,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"所在地区:",prop:"area"}},[a("el-cascader",{attrs:{options:t.area},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"信息标题:"}},[a("span",[t._v(t._s(t.company))]),t._v(" "),a("span",[t._v(t._s(t.tagOilType))]),t._v(" "),a("span",[t._v(t._s(t.tagOilSpec))]),t._v(" "),a("span",[t._v(t._s(t.setAreaShow))])]),t._v(" "),a("el-form-item",{attrs:{label:"详细说明:"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.detailedDescription,callback:function(e){t.$set(t.form,"detailedDescription",e)},expression:"form.detailedDescription"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"产品图片:"}},[a("el-upload",{ref:"uploadBox",attrs:{"list-type":"picture-card",limit:4,action:t.uploadAPI,"file-list":t.picList,"on-preview":t.handlePictureCardPreview,"on-success":t.handleUpload,"on-remove":t.handleRemove,disabled:t.uploadDisable,"before-upload":t.beforeImageUpload}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("el-form-item",{staticClass:"index-form-last"},[a("el-button",{attrs:{type:"primary",disabled:t.btnFormSubmit},on:{click:t.validateForm}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{disabled:t.btnFormSubmit},on:{click:t.jump2list}},[t._v("返回")])],1)],1)],1)},staticRenderFns:[]};var Z=a("vSla")(K,X,!1,function(t){a("B8I6")},"data-v-0f455cb7",null).exports,tt={data:function(){return{infoTypeList:"船燃销售",form:{createDate:"",oilType:"",price:"",port:"",pic:"",spec:"",area:[],detail:"",transType:"",datePicker:"",deliveryType:""}}},mounted:function(){var t=this.$route.query;this.getPageData({uuid:t.uuid})},methods:{getPageData:function(t){var e=this;this.$http(w.SL_PAGE,t).then(function(t){var a=t.data.datas;if(a){var i=a.infoVO;i&&(e.form=e.formateData(i))}})},formateData:function(t){return this.infoTypeList=t.infoType,t.createDate=P(t.createDate),t},jump2list:function(){this.$router.go(-1)}}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"销售详情",expression:"'销售详情'"}],staticClass:"bar-right"},[a("el-form",{attrs:{model:t.form,"label-width":"86px"}},[a("el-form-item",{attrs:{label:"信息类型:"}},[a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.infoTypeList))])],1),t._v(" "),a("el-form-item",{attrs:{label:"发布日期:"}},[a("span",[t._v(t._s(t.form.releasedDate))])]),t._v(" "),a("el-form-item",{attrs:{label:"公司名称:"}},[a("span",[t._v(t._s(t.form.epMemberName))])]),t._v(" "),a("el-form-item",{attrs:{label:"油品类型:"}},[a("span",[t._v(t._s(t.form.oilClassification))])]),t._v(" "),a("el-form-item",{attrs:{label:"规格:"}},[a("span",[t._v(t._s(t.form.oilVarieties))])]),t._v(" "),a("el-form-item",{attrs:{label:"提货方式:"}},[a("span",[t._v(t._s(t.form.transportWay))])]),t._v(" "),a("el-form-item",{attrs:{label:"运输方式:"}},[a("span",[t._v(t._s(t.form.deliveryWay))])]),t._v(" "),a("el-form-item",{attrs:{label:"单价:"}},[a("span",[t._v(t._s(t.form.unitPrice)+" 元/"+t._s(t.form.unit))])]),t._v(" "),a("el-form-item",{attrs:{label:"所在地区:"}},[a("span",[t._v(t._s(t.form.locationProvince)+"/"+t._s(t.form.locationCity))])]),t._v(" "),a("el-form-item",{attrs:{label:"信息标题:"}},[a("span",[t._v(t._s(t.form.infoTitle))])]),t._v(" "),a("el-form-item",{attrs:{label:"详细说明:"}},[a("span",[t._v(t._s(t.form.detailedDescription))])]),t._v(" "),a("el-form-item",{attrs:{label:"产品图片:"}},[a("el-row",t._l(t.form.chmentsVOList,function(t,e){return a("el-col",{key:e,attrs:{span:4,offset:e>0?1:0}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:t.path}})])],1)}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.jump2list}},[t._v("返回")])],1)],1)],1)},staticRenderFns:[]};var at=a("vSla")(tt,et,!1,function(t){a("ZgFM")},null,null).exports,it={data:function(){return{infoTypeList:"船燃采购",form:{createDate:"",oilType:"",price:"",port:"",pic:"",spec:"",area:[],detail:"",transType:"",datePicker:"",deliveryType:""}}},created:function(){this.getPageData()},methods:{getPageData:function(){var t=this,e=this.$route.query;this.$http(w.BY_PAGE,e,"get").then(function(e){var a=e.data.datas;a&&(t.form=t.formateData(a))})},formateData:function(t){return this.infoTypeList=t.infoType,t.oilVarieties=t.ggname,t.oilClassification=t.ypname,t.releasedDate=P(t.releasedDate),t},jump2list:function(){this.$router.go(-1)}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"采购详情",expression:"'采购详情'"}],staticClass:"bar-right"},[a("el-form",{attrs:{model:t.form,"label-width":"86px"}},[a("el-form-item",{attrs:{label:"信息类型:"}},[a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.infoTypeList))])],1),t._v(" "),a("el-form-item",{attrs:{label:"发布日期:"}},[a("span",[t._v(t._s(t.form.releasedDate))])]),t._v(" "),a("el-form-item",{attrs:{label:"公司名称:"}},[a("span",[t._v(t._s(t.form.epMemberName))])]),t._v(" "),a("el-form-item",{attrs:{label:"油品类型:"}},[a("span",[t._v(t._s(t.form.ypname))])]),t._v(" "),a("el-form-item",{attrs:{label:"规格:"}},[a("span",[t._v(t._s(t.form.ggname))])]),t._v(" "),a("el-form-item",{attrs:{label:"提货方式:"}},[a("span",[t._v(t._s(t.form.transportWay))])]),t._v(" "),a("el-form-item",{attrs:{label:"运输方式:"}},[a("span",[t._v(t._s(t.form.deliveryWay))])]),t._v(" "),a("el-form-item",{attrs:{label:"数量:"}},[a("span",[t._v(t._s(t.form.number)+" "+t._s(t.form.unit))])]),t._v(" "),a("el-form-item",{attrs:{label:"所在地区:"}},[a("span",[t._v(t._s(t.form.locationProvince)+"/"+t._s(t.form.locationCity))])]),t._v(" "),a("el-form-item",{attrs:{label:"信息标题:"}},[a("span",[t._v(t._s(t.form.infoTitle))])]),t._v(" "),a("el-form-item",{attrs:{label:"详细说明:"}},[a("span",[t._v(t._s(t.form.detailedDescription))])]),t._v(" "),a("el-form-item",{attrs:{label:"产品图片:"}},[a("el-row",t._l(t.form.chments,function(t,e){return a("el-col",{key:e,attrs:{span:4,offset:e>0?1:0}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:t.path}})])],1)}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.jump2list}},[t._v("返回")])],1)],1)],1)},staticRenderFns:[]};var rt=a("vSla")(it,st,!1,function(t){a("aRq+")},null,null).exports,ot={components:{FormMsg:N},data:function(){return{form:{infoTitle:"",deliveryWay:"",transportWay:"",unitNumber:"",unitPrice:0},statusList:["未联系","已联系","已成交","有效","无效"],btnList:["已联系","已成交"],reqOfferFinished:!1,reqPageFinished:!1,tableData:[],totalPage:0,oilType:"",status:"3",unit:"吨",type:2}},watch:{reqPageFinished:function(t){this.reqOfferFinished&&(this.tableData=this.formateTabData(this.tableData))}},mounted:function(){var t=this.$route.query;this.getPageData({uuid:t.needUuid,sysTag:t.sysTag}),this.getOfferData({needUuid:t.needUuid,type:this.type});var e=t.oilType,a=this.$store.state.oilTypes;this.oilType=W(e,a)},methods:{getPageData:function(t){var e=this;this.$http(w.BY_PAGE,t,"get").then(function(t){var a=t.data.datas;a&&(a.numberUnit=a.number+" "+a.unit,e.reqPageFinished=!0,e.status=a.status,e.unit=a.unit,e.form=a)})},getOfferData:function(t){var e=this;this.$http(w.OFFER,t).then(function(t){var a=t.data,i=a.datas;e.totalPage=a.total,e.reqOfferFinished=!0,e.tableData=e.formateTabData(i)})},formateTabData:function(t){var e=this;return t&&t.forEach(function(t){t.createDate=P(t.createDate),t.isSoldOut=e.isSoldOut(t),t.price=e.formatePrice(t.price)}),t},formatePrice:function(t){var e=t+"",a="元/"+this.unit;return e.indexOf("元/")>-1&&(e=e.split("元/")[0]),e+=a},isSoldOut:function(t){return"已撤销"===this.status||"3"===this.status||"已成交"===t.status||"3"===t.status},onFormSubmit:function(t){this.formateFormData(t),this.getOfferData()},formateFormData:function(t){t&&(t.issueTimeStart=P(t.issueTimeStart),t.issueTimeEnd=P(t.issueTimeEnd))},jump2page:function(t){this.$router.push({name:"by-page",params:{uuid:t.needUuid}})},changeStatus:function(t,e){if(t.status!==e){var a=this.btnList.indexOf(e),i={uuid:t.uuid,status:a+2};this.updateOffer(i),t.status=e,"已成交"!==e&&3!==e||(t.isSoldOut=!0)}},updateOffer:function(t){var e=this;this.$http(w.OFFER_UPDATE,t).then(function(t){0===t.data.status?e.$message({message:"状态修改成功!",type:"success"}):e.$message.error("状态修改失败!")})},newPageData:function(t){this.form.pageNum=t,this.getOfferData()}}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"报价单",expression:"'报价单'"}],staticClass:"bar-right"},[a("div",{staticClass:"oil-title-2"},[t._v(t._s(t.oilType)+"报价单")]),t._v(" "),a("div",{staticClass:"bar-search"},[a("form-msg",{attrs:{"form-data":t.form,type:t.type}})],1),t._v(" "),a("el-table",{staticClass:"index-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"createDate",label:"报价日期",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"companyName",label:"公司名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"报价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contacts",label:"联系人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作",fixed:"right",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.btnList,function(i,s){return a("el-button",{key:s,attrs:{disabled:e.row.isSoldOut,type:e.row.status===i?"":"primary",size:"mini"},on:{click:function(a){t.changeStatus(e.row,i)}}},[t._v(t._s(i))])})}}])})],1),t._v(" "),a("div",{staticClass:"page-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","pager-count":5,total:t.totalPage},on:{"current-change":t.newPageData}})],1)],1)},staticRenderFns:[]},lt=a("vSla")(ot,nt,!1,null,null,null).exports,ct={data:function(){return{picList:[],oilSpecList:[],companyList:[],imgDeleteList:[],unitList:["吨","桶"],company:"",tagOilType:"",tagOilSpec:"",tagAreaShow:"",infoTypeList:"",dialogImageUrl:"",validateMessage:"",isInput:!0,isSystem:!1,isDeliver:!1,specDisable:!1,uploadDisable:!1,dialogVisible:!1,btnFormSubmit:!1,validateResult:!0,uploadAPI:w.UPLOAD,inputUrl:w.BY_INPUT,transportType:this.$store.state.deliveryWay,area:H.provinceAndCityData,form:{area:[],unit:"吨",number:"",infoType:1,chments:[],infoTitle:"",epMemberId:"",transportWay:"",deliveryWay:"",epMemberName:"",releasedDate:"",oilVarieties:"",oilClassification:"",detailedDescription:""},rules:{releasedDate:[{message:"请选择发布日期",required:!0}],area:[{message:"请选择区域",required:!0}],number:[{message:"请输入数量",required:!0},{type:"number",message:"必须为数字值"},{pattern:/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/,message:"最多两位小数"}],transportWay:[{message:"请选择提货方式",required:!0}],oilVarieties:[{message:"请选择油品规格",required:!0}],oilClassification:[{message:"请选择油品类型",required:!0}],epMemberName:[{message:"请输入公司名称",required:!0}]}}},computed:{setAreaShow:function(){for(var t=this.form.area,e=[],a=0;a<t.length;a++)e.push(H.CodeToText[t[a]]);return this.tagAreaShow=e,this.tagAreaShow.join("/")},oilTypeList:function(){return this.$store.state.oilTypeList[this.oilType]},deliveryType:function(){return this.$store.state.transportWay[this.oilType]},oilType:function(){return this.$store.state.oilType}},watch:{oilTypeList:function(t){},deliveryType:function(t){},oilType:function(t){}},mounted:function(){var t=this.$store.state.isSystem,e=this.$route.query;if(this.isSystem=t,e.uuid)this.getPageData(e),this.inputUrl=w.BY_UPDATE,this.isInput=!1;else{var a=this.$store.state.infoTypes[this.oilType].buy[0];this.infoTypeList=a.zhName,this.form.infoType=a.code,t||this.initClientData()}},methods:{initClientData:function(){var t=this;this.$http(w.COMPANY_USER,{}).then(function(e){var a=e.data.datas;a&&(t.company=a.name,t.form.epMemberName=a.name,t.form.epMemberId=a.memberId)})},getUploadBox:function(){return this.$refs.uploadBox.$children[1].$el},getCompanyData:function(){var t=this;if(this.companyList.length>0)return this.companyList;this.$http(w.COMPANY_LIST).then(function(e){var a=e.data.datas;a&&(a.forEach(function(t){t.value=t.name}),t.companyList=a)})},getPageData:function(t){var e=this;this.$http(w.BY_PAGE,t,"get").then(function(t){var a=t.data.datas;a&&(e.form=e.formateGetData(a))})},getAreaCode:function(t,e){var a=H.TextToCode[t],i=a[e];return[a.code,i.code]},getSpecData:function(t){var e=this,a={oilvarietie:t||""};this.$http(w.OIL_SPEC,a,"get").then(function(t){var a=t.data.datas;a&&a.length>0?(e.specDisable=!1,e.oilSpecList=a):(e.specDisable=!0,e.form.oilVarieties=" ")})},validateForm:function(){var t=this;this.validateResult?this.$refs.msgForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.formSubmit()}):this.$message.error(this.validateMessage)},formateChments:function(t){return t?(t.forEach(function(t){t.url=t.path}),t):[]},formateGetData:function(t){var e=t.ggname,a=t.ypname;if(this.company=t.epMemberName,this.infoTypeList=t.infoType,this.isDeliver="自提"===t.transportWay,this.tagOilSpec=e,this.tagOilType=a,this.picList=this.formateChments(t.chments),this.handleHideUpload(),a){var i=$(a,this.oilTypeList);this.getSpecData(i)}return t.oilVarieties=e,t.oilClassification=a,t.area=this.getAreaCode(t.locationProvince,t.locationCity),t.releasedDate=P(t.releasedDate),t},formatePostData:function(t){var e=this.tagAreaShow.join("/"),a=[this.company,this.tagOilType,this.tagOilSpec,e],i=this.picList.concat(this.imgDeleteList),s=this.tagAreaShow[0],r=this.tagAreaShow[1],o=this.formValue2code(t),n=a.join(" ");return{chments:i,deliveryWay:o.deliveryWay,detailedDescription:t.detailedDescription,epMemberId:t.epMemberId,epMemberName:t.epMemberName,infoId:t.infoId,infoTitle:n,infoType:this.oilType,locationProvince:s,locationCity:r,number:t.number,uuid:t.uuid,unit:t.unit,oilVarieties:o.oilVarieties,oilClassification:o.oilClassification,releasedDate:t.releasedDate,transportWay:o.transportWay}},formValue2code:function(t){var e=t.transportWay,a=$(t.deliveryWay,this.deliveryType),i=$(t.oilVarieties,this.oilSpecList),s=$(t.oilClassification,this.oilTypeList);return{deliveryWay:a,oilVarieties:i,transportWay:this.transportType.indexOf(e)+1,oilClassification:s}},formSubmit:function(){var t=this;this.$http(this.inputUrl,this.formatePostData(this.form)).then(function(e){if(0===e.data.status){t.$message({message:"提交成功,2秒后跳转到列表页!",type:"success"}),t.btnFormSubmit=!0;var a=t.jump2list;setTimeout(a,2e3)}})},handleTranChange:function(t){var e="自提"===t;this.isDeliver=e,this.form.deliveryWay=""},handleHideUpload:function(){var t=this.getUploadBox();this.picList.length>3?t.style="display: none":t.style=""},handleUpload:function(t){var e=t.datas;e?(this.picList.push({id:"",url:e,path:e}),this.$message({message:"图片上传成功!",type:"success"}),this.handleHideUpload()):this.$message.error("图片上传失败")},handleRemove:function(t,e){t.url="",t.path="",this.picList=e,this.handleHideUpload(),this.imgDeleteList.push(t)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleCompanySelect:function(t){this.company=t.name,this.form.epMemberId=t.memberId,this.form.epMemberName=t.name,this.validateResult=!0},handleSpecChange:function(t){this.tagOilSpec=t},handleTypeChange:function(t){this.tagOilSpec="",this.tagOilType=t,this.form.oilVarieties="";var e=$(t,this.oilTypeList);this.getSpecData(e)},beforeImageUpload:function(t){var e=t.type.indexOf("image")>-1,a=t.size/1024/1024<5;return e||this.$message({message:"只能上传图片类型!",type:"error"}),a||this.$message({message:"文件尺寸最大5M!",type:"error"}),e&&a},querySearchAsync:function(t,e){var a=this.companyList,i=t?a.filter(this.createStateFilter(t)):a;i.length<1&&(this.validateResult=!1,this.validateMessage="请选择已注册的公司!",this.$message.error(this.validateMessage)),e(i)},createStateFilter:function(t){return function(e){var a=!1,i=e.name;return i&&(a=0===i.toLowerCase().indexOf(t.toLowerCase())),a}},jump2list:function(){var t={oilType:this.oilType};this.isSystem&&(t.sysTag=1),this.$router.push({name:"by-manage",query:t})}}},ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"采购信息管理",expression:"'采购信息管理'"}],staticClass:"bar-right"},[a("el-form",{ref:"msgForm",attrs:{model:t.form,rules:t.rules,"label-width":"86px"}},[a("el-form-item",{attrs:{label:"信息类型:"}},[a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.infoTypeList))])],1),t._v(" "),a("el-form-item",{attrs:{label:"发布日期:",prop:"releasedDate"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.form.releasedDate,callback:function(e){t.$set(t.form,"releasedDate",e)},expression:"form.releasedDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"公司名称:",prop:"epMemberName"}},[t.isSystem?a("el-autocomplete",{staticClass:"w-194",attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请输入公司名称"},on:{focus:t.getCompanyData,select:t.handleCompanySelect},model:{value:t.form.epMemberName,callback:function(e){t.$set(t.form,"epMemberName",e)},expression:"form.epMemberName"}}):a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.form.epMemberName))])],1),t._v(" "),a("el-form-item",{attrs:{label:"油品类型:",prop:"oilClassification"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleTypeChange},model:{value:t.form.oilClassification,callback:function(e){t.$set(t.form,"oilClassification",e)},expression:"form.oilClassification"}},t._l(t.oilTypeList,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.zhName}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"规格:"}},[a("el-select",{attrs:{disabled:t.specDisable,placeholder:"请选择"},on:{change:t.handleSpecChange},model:{value:t.form.oilVarieties,callback:function(e){t.$set(t.form,"oilVarieties",e)},expression:"form.oilVarieties"}},t._l(t.oilSpecList,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.zhName}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"提货方式:",prop:"transportWay"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.handleTranChange},model:{value:t.form.transportWay,callback:function(e){t.$set(t.form,"transportWay",e)},expression:"form.transportWay"}},t._l(t.transportType,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"运输方式:",prop:"deliveryWay"}},[a("el-select",{attrs:{disabled:t.isDeliver,placeholder:"请选择"},model:{value:t.form.deliveryWay,callback:function(e){t.$set(t.form,"deliveryWay",e)},expression:"form.deliveryWay"}},t._l(t.deliveryType,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.zhName}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"数量:",prop:"number"}},[a("el-input",{staticClass:"w-194",model:{value:t.form.number,callback:function(e){t.$set(t.form,"number",t._n(e))},expression:"form.number"}}),t._v(" "),a("el-select",{staticStyle:{width:"70px"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}},t._l(t.unitList,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"所在地区:",prop:"area"}},[a("el-cascader",{attrs:{options:t.area},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"信息标题:"}},[a("span",[t._v(t._s(t.company))]),t._v(" "),a("span",[t._v(t._s(t.tagOilType))]),t._v(" "),a("span",[t._v(t._s(t.tagOilSpec))]),t._v(" "),a("span",[t._v(t._s(t.setAreaShow))])]),t._v(" "),a("el-form-item",{attrs:{label:"详细说明:"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.detailedDescription,callback:function(e){t.$set(t.form,"detailedDescription",e)},expression:"form.detailedDescription"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"产品图片:"}},[a("el-upload",{ref:"uploadBox",attrs:{"list-type":"picture-card",limit:4,action:t.uploadAPI,"file-list":t.picList,"on-preview":t.handlePictureCardPreview,"on-success":t.handleUpload,"on-remove":t.handleRemove,disabled:t.uploadDisable,"before-upload":t.beforeImageUpload}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("el-form-item",{staticClass:"index-form-last"},[a("el-button",{attrs:{type:"primary",disabled:t.btnFormSubmit},on:{click:t.validateForm}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{disabled:t.btnFormSubmit},on:{click:t.jump2list}},[t._v("返回")])],1)],1)],1)},staticRenderFns:[]};var pt=a("vSla")(ct,ut,!1,function(t){a("3Yuq")},"data-v-6109d152",null).exports,mt={components:{ManageSearch:z},data:function(){return{sysTag:0,currentPage:1,isSystem:!1,transportWay:this.$store.state.deliveryWay,oilTypes:this.$store.state.oilTypes,oilSpecList:[],tableData:[],totalPage:0,statusList:["已发布","已确认","已撤消"],form:{issueTimeEnd:"",issueTimeStart:"",oilClassification:"",oilVarieties:"",transportWay:"",deliveryWay:"",infoType:1,status:"",sysTag:0}}},computed:{oilTypeList:function(){return this.$store.state.oilTypeList[this.oilType]},deliveryType:function(){return this.$store.state.transportWay[this.oilType]},oilType:{get:function(){return this.$store.state.oilType},set:function(t){this.$store.commit("setOilType",t),this.onRadioChange(t)}},epMember:function(){return this.$store.state.epMember}},watch:{oilType:function(t){},oilTypeList:function(t){},deliveryType:function(t){},epMember:function(t){}},mounted:function(){var t=this.$store.state.isSystem,e=this.$store.state.sysTag;this.form.sysTag=e,this.isSystem=t,this.sysTag=e,this.onRadioChange(this.oilType)},methods:{clearSearchData:function(){B()(this.form,{issueTimeEnd:"",issueTimeStart:"",oilClassification:"",oilVarieties:"",transportWay:"",deliveryWay:"",pageNum:1,status:""})},setInfoType:function(t){var e=[];this.$store.state.infoTypes[t].buy.forEach(function(t){e.push(t.code)});var a=e.join(",");this.form.infoType=a},getOfferData:function(){var t=this,e=this.initClientForm();this.$http(w.BY_MANAGE,e).then(function(e){var a=e.data,i=a.datas;t.totalPage=a.total,t.currentPage=a.pageNum,t.tableData=t.formateTabData(i)})},initClientForm:function(){var t={};return this.isSystem?t=this.form:(B()(t,this.form),t.personal="1"),t},formateTabData:function(t){return t.forEach(function(t){t.releasedDate=P(t.releasedDate),t.unitNumber=t.number+t.unit,t.area=t.locationProvince+"/"+t.locationCity,t.unSoldOut="已发布"===t.status}),t},onSelectChange:function(t){var e=this;this.$http(w.OIL_SPEC,{oilvarietie:t},"get").then(function(t){e.oilSpecList=t.data.datas})},onFormSubmit:function(t){this.formateFormData(t),this.getOfferData()},onRadioChange:function(t){this.clearSearchData(),this.setInfoType(t),this.getOfferData()},formateFormData:function(t){t&&(t.issueTimeStart=P(t.issueTimeStart),t.issueTimeEnd=P(t.issueTimeEnd))},jump2page:function(t){this.$router.push({name:"by-page",query:{uuid:t.uuid,sysTag:this.sysTag}})},jump2input:function(t){var e={sysTag:this.sysTag,oilType:this.oilType};t.uuid&&(e.uuid=t.uuid),this.$router.push({name:"by-input",query:e})},jump2offer:function(t){this.$router.push({name:"by-offer",query:{needUuid:t.uuid,sysTag:this.sysTag,oilType:this.oilType}})},delOffer:function(t,e){var a=this;this.$confirm("此操作将撤消该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.reqDelOffer(t,e)}).catch(function(){a.$message({type:"info",message:"已取消撤消"})})},reqDelOffer:function(t,e){var a=this,i=t[e],s={uuid:i.uuid};this.$http(w.BY_RECOVATION,s).then(function(t){0===t.data.status?(a.$message({message:"撤消成功!",type:"success"}),a.changeStatus(i)):a.$message.error("撤消失败!")})},changeStatus:function(t){t.status="已撤销",t.unSoldOut=!1},newPageData:function(t){this.form.pageNum=t,this.getOfferData()}}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"采购信息管理",expression:"'采购信息管理'"}],staticClass:"bar-right"},[a("div",{staticClass:"clearfix oil-type-list"},[a("el-radio-group",{model:{value:t.oilType,callback:function(e){t.oilType=e},expression:"oilType"}},t._l(t.oilTypes,function(e,i){return a("el-radio-button",{key:i,attrs:{label:e.code}},[t._v(t._s(e.zhName))])})),t._v(" "),a("el-button",{staticClass:"float-r",attrs:{type:"primary"},on:{click:t.jump2input}},[t._v("发布需求")])],1),t._v(" "),a("div",{staticClass:"bar-search"},[a("manage-search",{attrs:{"form-data":t.form,"is-system":t.isSystem,"oil-type-list":t.oilTypeList,"oil-spec-list":t.oilSpecList,"delivery-list":t.deliveryType,"transport-way":t.transportWay,onSubmit:t.onFormSubmit,"status-list":t.statusList,onSelectChange:t.onSelectChange}})],1),t._v(" "),a("el-table",{staticClass:"index-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"releasedDate",label:"发布日期",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ypname",label:"油品类别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ggname",label:"规格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"transportWay",label:"提货方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"deliveryWay",label:"运输方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unitNumber",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"area",label:"所在地区"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),t._v(" "),t.isSystem?a("el-table-column",{attrs:{label:"操作",width:"300px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.jump2offer(e.row)}}},[t._v("报价单")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.jump2page(e.row)}}},[t._v("详情")]),t._v(" "),e.row.unSoldOut?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.jump2input(e.row)}}},[t._v("修改")]):t._e(),t._v(" "),e.row.unSoldOut?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.delOffer(t.tableData,e.$index)}}},[t._v("撤消")]):t._e()]}}])}):a("el-table-column",{attrs:{label:"操作",width:"200px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.jump2page(e.row)}}},[t._v("详情")]),t._v(" "),e.row.unSoldOut?a("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"mini"},on:{click:function(a){t.jump2input(e.row)}}},[t._v("修改")]):t._e(),t._v(" "),e.row.unSoldOut?a("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"mini"},on:{click:function(a){t.delOffer(t.tableData,e.$index)}}},[t._v("撤消")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"page-box"},[a("el-pagination",{attrs:{background:"",layout:"prev,pager,next","pager-count":5,total:t.totalPage,"current-page":t.currentPage},on:{"current-change":t.newPageData}})],1)],1)},staticRenderFns:[]},ft=a("vSla")(mt,dt,!1,null,null,null).exports,ht={data:function(){return{}},computed:{uploadBtnText:function(){var t="上传单据";return"已完成"===this.orderData.status&&(t="查看单据"),t},isDeleted:function(){return"0"!==this.orderData.aliveFlag},canDelete:function(){return"已完成"!==this.orderData.status},isBuyer:function(){var t="b"===this.identity;return this.isSystem||t},isSeller:function(){var t="b"!==this.identity;return this.isSystem||t},isDeliver:function(){return"自提"!==this.orderData.deliveryWay}},watch:{isDeleted:function(){}},props:{identity:{type:String,default:"b"},businessType:{type:Number,default:3},orderData:{type:Object,default:{}},upDown:{type:String,default:"up"},checkOrder:{type:Function,default:function(){return function(){}}},isSystem:{type:Boolean,default:!1}},methods:{delorder:function(t){"0"===t.aliveFlag?this.$message({message:"该订单已是删除状态!",type:"info"}):this.$emit("order-delete",t)},listIndex:function(t){return t+1}}},yt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isDeleted?i("div",{staticClass:"details-lists-box"},[i("div",{staticClass:"details-lists-one"},[i("span",{staticStyle:{"line-height":"28px"}},[t._v(t._s(t.orderData.status))]),t._v(" "),t.canDelete?i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.delorder(t.orderData)}}},[t._v("删除")]):t._e()],1),t._v(" "),i("div",{staticClass:"details-box"},[i("div",{staticClass:"details-lists-two"},[i("img",{attrs:{src:a("TcUs"),alt:""}}),t._v(" "),i("i",{staticClass:"orderiCon"},[t._v("订单")]),t._v(" "),i("ol",[i("li",[i("span",[t._v("创建日期 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.orderTime))])]),t._v(" "),i("li",[i("span",[t._v("订单号 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.orderCode))])]),t._v(" "),i("li",[i("span",[t._v("总价 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.totalPrice)+" "+t._s(t.orderData.currency))])]),t._v(" "),t.isBuyer?i("li",[i("span",[t._v(" 卖家名称 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.sellCompanyName))])]):t._e(),t._v(" "),t.isSeller?i("li",[i("span",[t._v(" 买家名称 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.buyCompanyName))])]):t._e()])]),t._v(" "),i("div",{staticClass:"details-lists-two"},[i("img",{attrs:{src:a("2RCe"),alt:""}}),t._v(" "),i("i",[t._v("物流")]),t._v(" "),"up"===t.upDown?i("ol",[i("li",[i("span",[t._v("提货日期 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.pickUpTime))])]),t._v(" "),i("li",[i("span",[t._v("提货方式 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.deliveryWay))])]),t._v(" "),t.isDeliver?i("li",[i("span",[t._v("运输方式 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.transportWay))])]):t._e()]):i("ol",[i("li",[i("span",[t._v("加油日期 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.fuelChargingTime))])]),t._v(" "),i("li",[i("span",[t._v("供油单号 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.fuelChargingCode))])]),t._v(" "),i("li",[i("span",[t._v("港口 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.port))])]),t._v(" "),i("li",[i("span",[t._v("船名 :")]),t._v(" "),i("span",[t._v(t._s(t.orderData.vesselName))])])])]),t._v(" "),i("div",{staticClass:"details-lists-table"},[t._m(0),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderData.goryList,border:""}},[i("el-table-column",{attrs:{label:"序号",width:"52"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"text-align":"center",display:"block"}},[t._v(t._s(t.listIndex(e.$index)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"oilClassification",label:"油品类别"}}),t._v(" "),i("el-table-column",{attrs:{prop:"oilVarieties",label:"规格"}}),t._v(" "),i("el-table-column",{attrs:{prop:"unitPrice",label:"单价"}}),t._v(" "),i("el-table-column",{attrs:{prop:"number",label:"数量"}}),t._v(" "),i("el-table-column",{attrs:{prop:"litotalPrice",label:"总价"}})],1)],1),t._v(" "),i("div",{staticClass:"order-upload"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.checkOrder(t.orderData.orderId)}}},[t._v(t._s(t.uploadBtnText))])],1)])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"category"},[e("img",{attrs:{src:a("OaKc"),alt:""}}),this._v(" "),e("i",[this._v("品类")])])}]};var vt=a("vSla")(ht,yt,!1,function(t){a("4byP")},"data-v-5c1bb236",null).exports,gt={data:function(){return{deliveryWay:this.$store.state.deliveryWay,unDeliver:!1,noDeliver:!0,orderStatus:[{value:1,label:"洽谈中"},{value:2,label:"已完成"}],datePicker:[]}},computed:{isSystem:function(){return this.$store.state.isSystem}},watch:{oilppms:function(t){t?t.length>0&&(this.noDeliver=!1):this.noDeliver=!0}},props:{oilvarieties:{type:Array,default:function(){return[]}},tranportways:{type:Array,default:function(){return[]}},oilppms:{type:Array,default:[]},formData:{type:Object,default:function(){return{status:"",sysTag:"",pageNum:1,orderDate:[],orderCode:"",deliveryWay:"",transportWay:"",oilVarieties:"",orderTimeEnd:"",orderTimeStart:"",fuelChargingCode:"",oilClassification:""}}}},methods:{search:function(){var t=this.formateFormData(this.formData);this.$emit("order-search",t)},formateFormData:function(t){var e=this.datePicker;return e?(t.orderTimeStart=P(e[0]),t.orderTimeEnd=P(e[1])):(t.orderTimeStart="",t.orderTimeEnd=""),t},onOpitonChange:function(t){this.formData.oilVarieties="",this.$emit("order-select-change",{oilvarietie:t})},onDeliverChange:function(t){this.unDeliver=t>1,this.formData.transportWay=""},onDateChange:function(){this.datePicker=[]}}},bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",attrs:{model:t.formData,inline:!0,"label-width":"84px"}},[a("el-form-item",{class:t.isSystem?"":"mg-r-0",attrs:{label:"创建日期:"}},[a("el-date-picker",{staticClass:"w-267",attrs:{clearable:"",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.datePicker,callback:function(e){t.datePicker=e},expression:"datePicker"}})],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-1",attrs:{label:"订单状态:"}},[a("el-select",{class:t.isSystem?"":"w-267",attrs:{placeholder:"请选择",clearable:""},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},t._l(t.orderStatus,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-0",attrs:{label:"油品类别:"}},[a("el-select",{class:t.isSystem?"":"w-267",attrs:{placeholder:"请选择",clearable:""},on:{change:t.onOpitonChange},model:{value:t.formData.oilClassification,callback:function(e){t.$set(t.formData,"oilClassification",e)},expression:"formData.oilClassification"}},t._l(t.oilvarieties,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.code}})}))],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-1",attrs:{label:"规格:"}},[a("el-select",{class:t.isSystem?"":"w-267",attrs:{placeholder:"请选择",clearable:"",disabled:t.noDeliver},model:{value:t.formData.oilVarieties,callback:function(e){t.$set(t.formData,"oilVarieties",e)},expression:"formData.oilVarieties"}},t._l(t.oilppms,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.code}})}))],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-0",attrs:{label:"提货方式:"}},[a("el-select",{class:t.isSystem?"":"w-267",attrs:{placeholder:"请选择",clearable:""},on:{change:t.onDeliverChange},model:{value:t.formData.deliveryWay,callback:function(e){t.$set(t.formData,"deliveryWay",e)},expression:"formData.deliveryWay"}},t._l(t.deliveryWay,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e+1}})}))],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-1",attrs:{label:"运输方式:"}},[a("el-select",{class:t.isSystem?"":"w-267",attrs:{placeholder:"请选择",clearable:"",disabled:t.unDeliver},model:{value:t.formData.transportWay,callback:function(e){t.$set(t.formData,"transportWay",e)},expression:"formData.transportWay"}},t._l(t.tranportways,function(t){return a("el-option",{key:t.code,attrs:{label:t.zhName,value:t.code}})}))],1),t._v(" "),a("el-form-item",{class:t.isSystem?"":"mg-r-0",attrs:{label:"订单号:"}},[a("el-input",{class:t.isSystem?"":"w-267",attrs:{clearable:""},model:{value:t.formData.orderCode,callback:function(e){t.$set(t.formData,"orderCode",e)},expression:"formData.orderCode"}})],1),t._v(" "),a("el-form-item",{staticClass:"mg-b-20"},[a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1)],1)},staticRenderFns:[]},Tt=a("vSla")(gt,bt,!1,null,null,null).exports,_t={components:{OrderSearch:Tt,OrderItem:vt},data:function(){return{uploadUrl:y.sellerImportRIgnitionData,oilTypes:this.$store.state.oilTypes,totalPage:0,currentPage:1,sellerCompanyId:"",isSystem:!1,uploadList:[],form:{sysTag:"",status:"",pageNum:1,infoType:1,orderCode:"",orderTimeEnd:"",oilVarieties:"",orderTimeStart:"",oilClassification:"",fuelChargingCode:"",transportWay:"",deliveryWay:""},choiceDetailsActive:"normal",orderStatus:["已删除","洽谈中","已完成"],orderOptions:[],oilSpecList:[]}},computed:{oilTypeList:function(){return this.$store.state.oilTypeList[this.oilType]},transportWay:function(){return this.$store.state.transportWay[this.oilType]},isNullTable:function(){return this.orderOptions.length<1},uploadData:function(){return{oilType:this.oilType}},oilType:{get:function(){return this.$store.state.oilType},set:function(t){this.$store.commit("setOilType",t),this.onRadioChange(t)}}},watch:{oilType:function(t){},oilTypeList:function(t){},transportWay:function(t){}},methods:{getNormalData:function(){this.getDataList(y.selllist,this.form)},orderSearchFn:function(t){B()(this.form,t),this.getNormalData()},formatePrice:function(t,e){var a=t.unitPrice*t.number;t.litotalPrice=R(a)+" "+e,t.unitPrice=t.unitPrice+" "+e+"/"+t.unit,t.number=t.number+" "+t.unit},getDataList:function(t,e){var a=this;this.$http(t,e).then(function(t){var e=t.data,i=e.datas;a.totalPage=e.total,a.currentPage=e.pageNum,i&&(i.forEach(function(t,e){a.formateTabData(t),t.goryList.forEach(function(e){a.formatePrice(e,t.currency)})}),a.orderOptions=i)})},formateTabData:function(t){var e=t.status;"0"===t.aliveFlag&&(e=t.aliveFlag),t.status=this.orderStatus[e],t.orderTime=P(t.orderTime),t.pickUpTime=P(t.pickUpTime)},downLoad:function(){window.open(y.orderBuyerExcel[this.oilType])},exportTemplate:function(){var t=this,e={infoType:this.oilType,sellerCompanyId:this.sellerCompanyId,deliveryWay:this.form.deliveryWay,transportWay:this.form.transportWay,orderTimeEnd:this.form.orderTimeEnd,orderTimeStart:this.form.orderTimeStart,oilClassification:this.form.oilClassification,oilVarieties:this.form.oilVarieties,orderCode:this.form.orderCode,status:this.form.status,sysTag:this.form.sysTag,buyerCompanyId:""};this.$http(y.sellerExportRIgnitionData,e).then(function(e){var a=e.data.datas;a?window.open(a):t.$message({type:"error",message:"导出失败"})})},orderDelete:function(t){var e=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.orderDeleteById(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},orderDeleteById:function(t){var e=this,a={orderId:t.orderId};this.$http(y.Delorderignition,a).then(function(a){0===a.data.status?(t.status="已删除",e.$message({type:"success",message:"删除成功!"})):e.$message.error("删除失败!")})},orderSelectChange:function(t){var e=this,a=t||{};this.$http(y.oilppms,a,"get").then(function(t){e.oilSpecList=t.data.datas})},uploadSuccess:function(t){var e=t.datas;this.$message({type:"success",message:e}),this.getNormalData()},uploadError:function(){this.$message.error("上传失败!")},uploadBefore:function(t){var e=t.type.indexOf("excel")>-1;return e||this.$message({message:"只能上传excel文件!",type:"error"}),e},newPageData:function(t){this.form.pageNum=t,this.getNormalData()},initSysData:function(){var t=this.$store.state.sysTag,e=this.$store.state.isSystem,a=this.$route.query.oilType;this.form.sysTag=t,this.isSystem=e,this.sysTag=t,e&&(this.uploadUrl=y.importRIgnitionData),a?this.oilType=a:this.onRadioChange(this.oilType)},onRadioChange:function(t){this.clearSearchData(),this.setInfoType(t),this.getNormalData()},clearSearchData:function(){B()(this.form,{orderTimeEnd:"",orderTimeStart:"",oilClassification:"",oilVarieties:"",transportWay:"",deliveryWay:"",orderCode:"",pageNum:1,status:""}),this.$refs.orderSearch.onDateChange()},setInfoType:function(t){var e=[];this.$store.state.infoTypes[t].buy.forEach(function(t){e.push(t.code)});var a=e.join(",");this.form.infoType=a},jump2center:function(t){this.$router.push({name:"or-center",query:{orderId:t,sysTag:this.sysTag,oilType:this.oilType,enter:"or-sellup"}})}},mounted:function(){this.initSysData()}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"卖家订单",expression:"'卖家订单'"}],staticClass:"bar-right"},[a("el-radio-group",{staticClass:"oil-type-list",model:{value:t.oilType,callback:function(e){t.oilType=e},expression:"oilType"}},t._l(t.oilTypes,function(e,i){return a("el-radio-button",{key:i,attrs:{label:e.code}},[t._v(t._s(e.zhName))])})),t._v(" "),a("div",{staticClass:"bar-search"},[a("order-search",{ref:"orderSearch",attrs:{"form-data":t.form,oilppms:t.oilSpecList,oilvarieties:t.oilTypeList,tranportways:t.transportWay,sysTag:t.form.sysTag},on:{"order-search":t.orderSearchFn,"order-select-change":t.orderSelectChange}})],1),t._v(" "),a("div",{staticClass:"btn-order"},[a("el-button",{staticStyle:{"margin-right":"10px","text-decoration":"underline"},attrs:{type:"text"},on:{click:t.downLoad}},[t._v("下载导入订单模版.xlsx")]),t._v(" "),a("el-upload",{staticStyle:{"margin-right":"10px"},attrs:{data:t.uploadData,action:t.uploadUrl,"on-success":t.uploadSuccess,"before-upload":t.uploadBefore,"on-error":t.uploadError,"show-file-list":!1,"file-list":t.uploadList}},[a("el-button",{attrs:{type:"primary"}},[t._v("导入订单")])],1),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.isNullTable},on:{click:t.exportTemplate}},[t._v("导出订单")])],1),t._v(" "),a("div",{staticClass:"main-details"},[a("ul",[t._l(t.orderOptions,function(e,i){return a("li",{key:i},[a("order-item",{attrs:{"is-system":t.isSystem,"order-data":e,"business-type":3,identity:"s",checkOrder:t.jump2center},on:{"order-delete":t.orderDelete}})],1)}),t._v(" "),t.isNullTable?a("li",[a("div",{staticClass:"noInfo"},[t._v("无订单信息")])]):t._e()],2),t._v(" "),a("div",{staticClass:"page-box"},[a("el-pagination",{attrs:{"pager-count":5,background:"",layout:"prev,pager,next",total:t.totalPage,"current-page":t.currentPage},on:{"current-change":t.newPageData}})],1)])],1)},staticRenderFns:[]},Dt=a("vSla")(_t,St,!1,null,null,null).exports,Ct={data:function(){return{oilType:1,fileType:1,acitveTab:1,fileuploadlist:y.fileupload,oilTypeList:this.$store.state.oilTypes,arrayTypeList:["voucher","contract","invoice","picture","others"],fileList:[],contract:[],invoice:[],picture:[],voucher:[],others:[],orderId:null,isSystem:!1,sysTag:""}},computed:{oilName:function(){var t=this.$store.state.oilTypes;return W(this.oilType,t)}},methods:{submmitFile:function(){var t=this,e=this.$route.query.businessType,a={contractList:this.contract,invoiceList:this.invoice,otherList:this.others,oilType:this.oilType+"",orderId:this.orderId,sysTag:this.sysTag},i=y.submmitfile;4===e&&(i=y.ordersupplyuploadsubmit),this.$http(i,a).then(function(e){if(0===e.data.status)t.$message({message:"提交成功",type:"success"});else{var a=e.data.message;t.$message({message:a,type:"error"})}})},delupload:function(t,e){var a=this;this.$confirm("确定删除该文件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i,s=a.getArrayName(e);i=s.indexOf(t),s.splice(i,1)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},onUploadFiles:function(t){this.fileType=t},onUploadSuccess:function(t,e){var a={path:t.datas,name:e.name};this.getArrayName(this.fileType).push(a)},onUploadError:function(t,e){this.$message({type:"warning",message:"上传失败!"})},jump2order:function(){this.$router.go(-1)},getArrayName:function(t){return this[this.arrayTypeList[t-1]]},initSysData:function(){var t=this.$store.state.sysTag,e=this.$store.state.isSystem,a=this.$route.query.oilType;this.sysTag=t,this.isSystem=e,this.oilType=a,e&&(this.uploadUrl=y.importRIgnitionData)},reqOrderList:function(){var t=this,e=this.$route.query.orderId;this.orderId=e,this.$http(y.showuploadedfiles,{orderId:e}).then(function(e){var a=e.data.datas;a&&a.forEach(function(e){var a=~~e.fileType;t.getArrayName(a).push(e)})})}},mounted:function(){this.initSysData(),this.reqOrderList()}},At={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"title",rawName:"v-title",value:"单据管理",expression:"'单据管理'"}],staticClass:"bar-right"},[i("div",{staticClass:"oil-title-2"},[t._v(t._s(t.oilName)+"单据管理")]),t._v(" "),i("ul",{staticClass:"main-bottom"},[0===t.contract.length?i("li",[t._m(0),t._v(" "),i("el-upload",{attrs:{"show-file-list":!1,action:t.fileuploadlist,"on-success":t.onUploadSuccess,"on-error":t.onUploadError,"file-list":t.fileList}},[i("img",{staticClass:"mg-t-24",attrs:{src:a("vYV2"),alt:""},on:{click:function(e){t.onUploadFiles(2)}}})])],1):t._e(),t._v(" "),t._l(t.contract,function(e,s){return i("li",{key:s},[t._m(1,!0),t._v(" "),i("div",{staticClass:"b-right"},[i("span",[i("a",{attrs:{href:e.path,target:"_blank"}},[t._v(t._s(e.name))])]),t._v(" "),i("div",{staticClass:"b-right-btn"},[i("i",{on:{click:function(a){t.delupload(e,2)}}},[i("img",{attrs:{src:a("vqrj"),alt:""}})]),t._v(" "),i("el-upload",{attrs:{"show-file-list":!1,action:t.fileuploadlist,"on-success":t.onUploadSuccess,"on-error":t.onUploadError,"file-list":t.fileList}},[i("img",{staticClass:"mg-t-24",attrs:{src:a("vYV2"),alt:""},on:{click:function(e){t.onUploadFiles(2)}}})])],1)])])})],2),t._v(" "),i("ul",{staticClass:"main-bottom"},[0===t.invoice.length?i("li",[t._m(2),t._v(" "),i("el-upload",{attrs:{"show-file-list":!1,action:t.fileuploadlist,"on-success":t.onUploadSuccess,"on-error":t.onUploadError,"file-list":t.fileList}},[i("img",{staticClass:"mg-t-24",attrs:{src:a("vYV2"),alt:""},on:{click:function(e){t.onUploadFiles(3)}}})])],1):t._e(),t._v(" "),t._l(t.invoice,function(e,s){return i("li",{key:s},[t._m(3,!0),t._v(" "),i("div",{staticClass:"b-right"},[i("span",[i("a",{attrs:{href:e.path,target:"_blank"}},[t._v(t._s(e.name))])]),t._v(" "),i("div",{staticClass:"b-right-btn"},[i("i",{on:{click:function(a){t.delupload(e,3)}}},[i("img",{attrs:{src:a("vqrj"),alt:""}})]),t._v(" "),i("el-upload",{attrs:{"show-file-list":!1,action:t.fileuploadlist,"on-success":t.onUploadSuccess,"on-error":t.onUploadError,"file-list":t.fileList}},[i("img",{staticClass:"mg-t-24",attrs:{src:a("vYV2"),alt:""},on:{click:function(e){t.onUploadFiles(3)}}})])],1)])])})],2),t._v(" "),i("ul",{staticClass:"main-bottom"},[0===t.others.length?i("li",[t._m(4),t._v(" "),i("el-upload",{attrs:{"show-file-list":!1,action:t.fileuploadlist,"on-success":t.onUploadSuccess,"on-error":t.onUploadError,"file-list":t.fileList}},[i("img",{staticClass:"mg-t-24",attrs:{src:a("vYV2"),alt:""},on:{click:function(e){t.onUploadFiles(5)}}})])],1):t._e(),t._v(" "),t._l(t.others,function(e,s){return i("li",{key:s},[t._m(5,!0),t._v(" "),i("div",{staticClass:"b-right"},[i("span",[i("a",{attrs:{href:e.path,target:"_blank"}},[t._v(t._s(e.name))])]),t._v(" "),i("div",{staticClass:"b-right-btn"},[i("i",{on:{click:function(a){t.delupload(e,5)}}},[i("img",{attrs:{src:a("vqrj"),alt:""}})]),t._v(" "),i("el-upload",{attrs:{"show-file-list":!1,action:t.fileuploadlist,"on-success":t.onUploadSuccess,"on-error":t.onUploadError,"file-list":t.fileList}},[i("img",{staticClass:"mg-t-24",attrs:{src:a("vYV2"),alt:""},on:{click:function(e){t.onUploadFiles(5)}}})])],1)])])})],2),t._v(" "),i("div",{staticClass:"or-btn-list"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submmitFile()}}},[t._v("提交")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.jump2order()}}},[t._v("返回")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"b-left"},[e("span",{staticClass:"color-on"},[this._v("*")]),e("span",[this._v("合同")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"b-left"},[e("span",{staticClass:"color-on"},[this._v("*")]),e("span",[this._v("合同")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"b-left"},[e("span",[this._v(" ")]),e("span",[this._v("发票")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"b-left"},[e("span",[this._v(" ")]),e("span",[this._v("发票")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"b-left"},[e("span",[this._v(" ")]),e("span",[this._v("其他单据")]),e("div",{staticStyle:{"font-size":"12px"}},[this._v("(包括运单、签收单、提货单等)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"b-left"},[e("span",[this._v(" ")]),e("span",[this._v("其他单据")]),e("div",{staticStyle:{"font-size":"12px"}},[this._v("(包括运单、签收单、提货单等)")])])}]},wt=a("vSla")(Ct,At,!1,null,null,null).exports,xt={data:function(){return{acitveTab:1,oilTypeList:this.$store.state.oilTypes,oilType:1,tabList:[{label:"供油凭证与合同",value:1},{label:"发票",value:2}],arrayTypeList:["voucher","contract","invoice"],fileuploadlist:y.fileupload,uploadType:"CONTRACT",fileList:[],fileType:1,voucher:[],invoice:[],contract:[],orderId:null,isSystem:!1,sysTag:""}},computed:{oilName:function(){var t=this.$store.state.oilTypes;return W(this.oilType,t)}},methods:{submmitFile:function(){var t=this,e=this.$route.query.businessType,a={oilSupplyVoucherList:this.voucher,contractList:this.contract,invoiceList:this.invoice,uploadType:this.uploadType,orderId:this.orderId,sysTag:this.sysTag},i=y.submmitfile;4===e&&(i=y.ordersupplyuploadsubmit),this.$http(i,a).then(function(e){if(0===e.data.status)t.$message({message:"提交成功",type:"success"});else{var a=e.data.message;t.$message({message:a,type:"error"})}})},delupload:function(t,e){var a=this;this.$confirm("确定删除该文件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i,s=a.getArrayName(e);i=s.indexOf(t),s.splice(i,1),a.uploadType=a.setUploadType(e)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},onUploadSuccess:function(t,e){var a={path:t.datas,name:e.name};this.getArrayName(this.fileType).push(a)},onUploadError:function(t,e){this.$message({type:"warning",message:"上传失败!"})},onBeforeUpload:function(t){},onUploadFiles:function(t){this.uploadType=this.setUploadType(t)},onRemoveFile:function(t,e){console.log(t)},switchMode:function(t){this.acitveTab=t},jump2order:function(){this.$router.go(-1)},getArrayName:function(t){return this[this.arrayTypeList[t-1]]},setUploadType:function(t){var e="CONTRACT";return this.fileType=t,t>2&&(e="INVOICE"),e},initSysData:function(){var t=this.$store.state.sysTag,e=this.$store.state.isSystem,a=this.$route.query.oilType;this.sysTag=t,this.isSystem=e,this.oilType=a,e&&(this.uploadUrl=y.importRIgnitionData)},reqOrderList:function(){var t=this,e=this.$route.query.orderId;this.orderId=e,this.$http(y.showuploadedfiles,{orderId:e}).then(function(e){var a=e.data.datas;a&&a.forEach(function(e){var a=~~e.fileType;t.getArrayName(a).push(e)})})}},mounted:function(){this.initSysData(),this.reqOrderList()}},Ot={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bar-right"},[i("div",{staticClass:"oil-title-2"},[t._v(t._s(t.oilName)+"单据管理")]),t._v(" "),i("el-form",{attrs:{"label-width":"80px"}},[i("el-form-item",{staticClass:"main-bottom",attrs:{label:"供油凭证"}},[i("el-upload",{attrs:{action:t.fileuploadlist,"on-success":t.onUploadSuccess,"on-error":t.onUploadError,"on-remove":t.onRemoveFile,"file-list":t.voucher}},[i("img",{staticClass:"mg-t-10",attrs:{src:a("vYV2")},on:{click:function(e){t.onUploadFiles(1)}}})])],1),t._v(" "),i("el-form-item",{staticClass:"main-bottom",attrs:{label:"合同"}},[i("el-upload",{attrs:{action:t.fileuploadlist,"on-success":t.onUploadSuccess,"on-error":t.onUploadError,"file-list":t.contract}},[i("img",{staticClass:"mg-t-10",attrs:{src:a("vYV2")},on:{click:function(e){t.onUploadFiles(2)}}})])],1),t._v(" "),i("el-form-item",{staticClass:"main-bottom",attrs:{label:"发票"}},[i("el-upload",{attrs:{action:t.fileuploadlist,"on-success":t.onUploadSuccess,"on-error":t.onUploadError,"file-list":t.invoice}},[i("img",{staticClass:"mg-t-10",attrs:{src:a("vYV2")},on:{click:function(e){t.onUploadFiles(3)}}})])],1),t._v(" "),i("el-form-item",{staticClass:"or-btn-list"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submmitFile()}}},[t._v("提交")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.jump2order()}}},[t._v("返回")])],1)],1)],1)},staticRenderFns:[]};var Lt=a("vSla")(xt,Ot,!1,function(t){a("9ARp")},"data-v-2dfcd017",null).exports,It={components:{OrderSearch:Tt,OrderItem:vt},data:function(){return{uploadUrl:y.buyImportRIgnitionData,oilTypes:this.$store.state.oilTypes,totalPage:0,exporturl:"",currentPage:1,buyCompanyId:"",isSystem:!1,uploadList:[],form:{status:"",sysTag:"",pageNum:1,infoType:1,orderCode:"",orderTimeEnd:"",oilVarieties:"",orderTimeStart:"",oilClassification:"",fuelChargingCode:"",transportWay:"",deliveryWay:""},choiceDetailsActive:"normal",orderStatus:["已删除","洽谈中","已完成"],orderOptions:[],oilSpecList:[]}},computed:{oilTypeList:function(){return this.$store.state.oilTypeList[this.oilType]},transportWay:function(){return this.$store.state.transportWay[this.oilType]},isNullTable:function(){return this.orderOptions.length<1},uploadData:function(){return{oilType:this.oilType}},oilType:{get:function(){return this.$store.state.oilType},set:function(t){this.$store.commit("setOilType",t),this.onRadioChange(t)}}},watch:{oilType:function(t){},oilTypeList:function(t){},transportWay:function(t){}},methods:{getNormalData:function(){this.getDataList(y.buyerOrderUp,this.form)},orderSearchFn:function(t){this.getNormalData()},formatePrice:function(t,e){var a=t.unitPrice*t.number;t.litotalPrice=R(a)+" "+e,t.unitPrice=t.unitPrice+" "+e+"/"+t.unit,t.number=t.number+" "+t.unit},getDataList:function(t,e){var a=this;this.$http(t,e).then(function(t){var e=t.data,i=e.datas;a.totalPage=e.total,a.currentPage=e.pageNum,i&&(i.forEach(function(t,e){a.formateTabData(t),t.goryList.forEach(function(e){a.formatePrice(e,t.currency)})}),a.orderOptions=i)})},formateTabData:function(t){var e=t.status;"0"===t.aliveFlag&&(e=t.aliveFlag),t.status=this.orderStatus[e],t.orderTime=P(t.orderTime),t.pickUpTime=P(t.pickUpTime)},downLoad:function(){window.open(y.orderBuyerExcel[this.oilType])},exportTemplate:function(){var t=this,e={infoType:this.oilType,buyerCompanyId:this.buyCompanyId,deliveryWay:this.form.deliveryWay,transportWay:this.form.transportWay,orderTimeEnd:this.form.orderTimeEnd,orderTimeStart:this.form.orderTimeStart,oilClassification:this.form.oilClassification,oilVarieties:this.form.oilVarieties,orderCode:this.form.orderCode,status:this.form.status,sysTag:this.form.sysTag,sellerCompanyId:""};this.$http(y.buyerExportRIgnitionData,e).then(function(e){var a=e.data.datas;a?window.open(a):t.$message({type:"error",message:"导出失败"})})},orderDelete:function(t){var e=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.orderDeleteById(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},orderDeleteById:function(t){var e=this,a={orderId:t.orderId};this.$http(y.Delorderignition,a).then(function(a){0===a.data.status?(t.status="已删除",t.aliveFlag="0",e.$message({type:"success",message:"删除成功!"})):e.$message.error("删除失败!")})},orderSelectChange:function(t){var e=this,a=t||{};this.$http(y.oilppms,a,"get").then(function(t){e.oilSpecList=t.data.datas})},uploadSuccess:function(t){var e=t.datas;this.$message({type:"success",message:e}),this.getNormalData()},uploadBefore:function(t){var e=t.type.indexOf("excel")>-1;return e||this.$message({message:"只能上传excel文件!",type:"error"}),e},uploadError:function(){this.$message.error("上传失败!")},newPageData:function(t){this.form.pageNum=t,this.getNormalData()},initSysData:function(){var t=this.$store.state.sysTag,e=this.$store.state.isSystem,a=this.$store.state.oilType;this.form.sysTag=t,this.isSystem=e,this.sysTag=t,e&&(this.uploadUrl=y.importRIgnitionData),a?this.oilType=a:this.onRadioChange(this.oilType)},onRadioChange:function(t){this.clearSearchData(),this.setInfoType(t),this.getNormalData()},clearSearchData:function(){B()(this.form,{orderTimeEnd:"",orderTimeStart:"",oilClassification:"",oilVarieties:"",transportWay:"",deliveryWay:"",orderCode:"",pageNum:1,status:""}),this.$refs.orderSearch.onDateChange()},setInfoType:function(t){var e=[];this.$store.state.infoTypes[t].buy.forEach(function(t){e.push(t.code)});var a=e.join(",");this.form.infoType=a},jump2center:function(t){this.$router.push({name:"or-center",query:{orderId:t,sysTag:this.sysTag,oilType:this.oilType,enter:"or-buyup"}})}},mounted:function(){this.initSysData()}},Et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"买家订单",expression:"'买家订单'"}],staticClass:"bar-right"},[a("el-radio-group",{staticClass:"oil-type-list",model:{value:t.oilType,callback:function(e){t.oilType=e},expression:"oilType"}},t._l(t.oilTypes,function(e,i){return a("el-radio-button",{key:i,attrs:{label:e.code}},[t._v(t._s(e.zhName))])})),t._v(" "),a("div",{staticClass:"bar-search"},[a("order-search",{ref:"orderSearch",attrs:{"form-data":t.form,oilppms:t.oilSpecList,oilvarieties:t.oilTypeList,tranportways:t.transportWay},on:{"order-search":t.orderSearchFn,"order-select-change":t.orderSelectChange}})],1),t._v(" "),a("div",{staticClass:"btn-order"},[a("el-button",{staticStyle:{"margin-right":"10px","text-decoration":"underline"},attrs:{type:"text"},on:{click:t.downLoad}},[t._v("下载导入订单模版.xlsx")]),t._v(" "),a("el-upload",{staticStyle:{"margin-right":"10px"},attrs:{data:t.uploadData,action:t.uploadUrl,"on-success":t.uploadSuccess,"before-upload":t.uploadBefore,"on-error":t.uploadError,"show-file-list":!1,"file-list":t.uploadList}},[a("el-button",{attrs:{type:"primary"}},[t._v("导入订单")])],1),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.isNullTable},on:{click:t.exportTemplate}},[t._v("导出订单")])],1),t._v(" "),a("div",{staticClass:"main-details"},[a("ul",[t._l(t.orderOptions,function(e,i){return a("li",{key:i},[a("order-item",{attrs:{"is-system":t.isSystem,"order-data":e,"business-type":3,checkOrder:t.jump2center},on:{"order-delete":t.orderDelete}})],1)}),t._v(" "),t.isNullTable?a("li",[a("div",{staticClass:"noInfo"},[t._v("无订单信息")])]):t._e()],2),t._v(" "),a("div",{staticClass:"page-box"},[a("el-pagination",{attrs:{"pager-count":5,background:"",layout:"prev,pager,next",total:t.totalPage,"current-page":t.currentPage},on:{"current-change":t.newPageData}})],1)])],1)},staticRenderFns:[]},kt=a("vSla")(It,Et,!1,null,null,null).exports;r.default.use(I.a);var Nt=new I.a({routes:[{path:"/",name:"by-manage",component:ft},{path:"/sl-inquiry",name:"sl-inquiry",component:V},{path:"/by-offer",name:"by-offer",component:lt},{path:"/sl-input",name:"sl-input",component:Z},{path:"/sl-manage",name:"sl-manage",component:Q},{path:"/sl-page",name:"sl-page",component:at},{path:"/by-input",name:"by-input",component:pt},{path:"/by-page",name:"by-page",component:rt},{path:"/or-buyup",name:"or-buyup",component:kt},{path:"/or-sellup",name:"or-sellup",component:Dt},{path:"/or-center",name:"or-center",component:wt},{path:"/or-ctest",name:"or-ctest",component:Lt}]}),Ut=a("9rMa");r.default.use(Ut.a);var Pt=new Ut.a.Store({state:{sysTag:0,oilType:1,isSystem:!1,epMember:{},deliveryWay:["配送","自提"],transportWay:{1:[],9:[]},oilTypeList:{1:[],9:[]},oilTypes:[{zhName:"船油",enName:"",code:1},{zhName:"原料油",enName:"",code:9}],infoTypes:{1:{sell:[{zhName:"船燃贸易",enName:"",code:1},{zhName:"船舶加油(内贸)",enName:"",code:2},{zhName:"船舶加油(保税)",enName:"",code:3}],buy:[{zhName:"船燃采购",enName:"",code:1}]},9:{sell:[{zhName:"原料油销售",enName:"",code:9}],buy:[{zhName:"原料油采购",enName:"",code:9}]}}},mutations:{setOilType:function(t,e){t.oilType=e},setSysTag:function(t,e){t.sysTag=e},setIsSystem:function(t,e){t.isSystem=e},setTransportWay:function(t,e){t.transportWay=e},setOilTypeList:function(t,e){t.oilTypeList=e},setEpMember:function(t,e){t.epMember=e}}}),Wt=a("aozt"),$t=a.n(Wt);var Rt=a("Axgm"),Ft=a.n(Rt);a("dkG8");r.default.use(Ft.a),r.default.config.productionTip=!1,r.default.prototype.$http=function(t,e,a){var i=a||"post",s={url:t,method:i};return"get"===i.toLowerCase()?s.params=e:s.data=e,$t()(s)},r.default.directive("title",{inserted:function(t,e){document.title=e.value}}),new r.default({el:"#app",router:Nt,store:Pt,components:{App:L},template:"<App/>"})},OaKc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAAEF7NTqAAAAAXNSR0IArs4c6QAAAMtJREFUKBVj/JKqvPU/A4MXE4hgAALGz6nK/xkZGLYxsTrGMoBEwSI8s+4wfElTAalgYAJJwziMjAxbwSrAUkCC8T8QgDggFUwwURCNqgxkD/fkywyM7JwM/39+Z/iaqwtXDNYGkgBrg9IwWRRjYIIwGqck2EiQL0AYGaA4kSgJFpCqf5/eIisGs/FbjqEcKIBTBzbFMDGw/SAOuldAYrB4AbGRAU5vIitCZ5OlCe68v4+vM/yYkc3w//UjBkZROQaOjKnoFsD5ZAUEAOdKQ3nJFrrnAAAAAElFTkSuQmCC"},TcUs:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAYAAAFsus16AAAAAXNSR0IArs4c6QAAAKVJREFUKBVj/JKq8vQ/w38pJhDBAAKfU5X/M4EYjCAWiAECYBGeWXeYgCATUwaiCKoMicP4mXf2XUaQAIoemAoQDTYZWQDGximB1ShGBsZnWHWAfQczE53GqgOkiEwJUOiAfAwKKZCfQUZhdS5IAhfAafdQ1gCMnwOsbKzqrCwsGiA2ul9YgIJPgIIXmFj/Z3FNu/sYTYEjiP8tS1n232/GaUCmAQBeVy2QKNc11AAAAABJRU5ErkJggg=="},ZgFM:function(t,e){},"aRq+":function(t,e){},dkG8:function(t,e){},eTWn:function(t,e){},tdXK:function(t,e){},vNtB:function(t,e){},vYV2:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAAEhyb7BAAAAAXNSR0IArs4c6QAAAgVJREFUOBGtUzuP00AQntk1R+7iKxA0VIdwAoegpoCCX4AEEhWiTXLoGihpeHV0UJwO51pEhWh4NNQgUSMRcjYFDTRICMW+C1yWZT4na+zEKBSMZM3rm9n5dsdEIkk7eA6tBq3AEnG0u7Z6RDHRUCvvgbGmiWxZGBiEGEUCvmiJz5GlltbeKRp3+lPi0FnE3j65kKd21o6fzZ25Rn6sQ3LSatwgpjt+N14QIvdkohUZ47S/FR+V3FvLtJqPk3Ya51GZdIL7rsPu+omVjLAL1MP4WWZbltsYy+JG7xMsNfFzJcdez50qA2STVvBiOqcG7cZ3DIhE+nnYJ+bBmABepPEzI+buTZwEQAyOG0vbwQX42eXDAAuh7MOGLD3sv5aOZuxNBncsXBA6Zyv2DLsi0NkzID/8eM0lnZ4BuURRe1gtYViMlWxj9oayhtVireW003wk+jIQzPy4HkZXROfPVqxkudwdZn1Jk472W/ONu9tf5RHWZVvu7vP0mdGv0VUUeMrb3BuZN7JVN5e78YZtHzv0g/UBQ6ZprXmirKVFxep9LexFKanDeBzN/GV5Kz5Y2+z33amwEUMOGGBRg1r08BwQ2u9+eAdVjBE2kGWDJ7IURk/FxFeSf7rtUsVfnNJEVRhm9aoqPh2b26gebr+cLqry/x81RXxLFqonv0yt6qR5MSwjevwGYFrMd6F0gHAAAAAASUVORK5CYII="},vqrj:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAAEhyb7BAAAAAXNSR0IArs4c6QAAAUdJREFUOBGtUzFOAzEQ9ProgIqKApoc+QAVX0DQI9HQBMiLkMIH6PMOHgAiDUFKRUVCd148RmP57mwuBW7WOzs7e97dM8afr8lIYftnc39yEVFPe7HwKis3wpAA9uA48roXMgOOWqyH1FbhoC4iy/3HhdjKXgZAVY+oKetJvZRKpgDUuWsGhm23GDP4eaEWwZRMAmPFfpEoZHqVVmvwLMa2sr0OZbJeA8baXQIf0nrd9119BuL6tn5PE1okFTlAMG0//BYJQPEMfdMOMjFET+yJaKMfALMN20xHp0btYS8rZLjV7sPiORv7D1BY3TVuLmKe/Mb+DmFA3XdyrGqusNlG3CrSMaRSsyIpuYDLwQIujiQnnMOoXRQiYVtbFMLfLaqfqVAOYzzsCJ3U7s3ejlMf9xxGThSypjrXxs18H+YM/mWxiMgh5wfloYtf62gl2gAAAABJRU5ErkJggg=="}},["NHnr"]);
//# sourceMappingURL=app.0eab8de1779d55cac27e.js.map